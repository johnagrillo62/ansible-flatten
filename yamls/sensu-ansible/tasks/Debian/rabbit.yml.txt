[0].name = Include ansible_distribution vars
[0].include_vars.file = {{ ansible_distribution }}.yml
[0].tags = rabbitmq
[1].name = Ensure the RabbitMQ APT repo GPG key is present
[1].tags = rabbitmq
[1].apt_key.url = {{ sensu_rabbitmq_signing_key }}
[1].apt_key.state = present
[2].name = Ensure the RabbitMQ APT repo is present
[2].tags = rabbitmq
[2].apt_repository.repo = {{ sensu_rabbitmq_repo }}
[2].apt_repository.filename = rabbitmq
[2].apt_repository.state = present
[2].apt_repository.update_cache = true
[3].name = Ensure Erlang APT preferences is configured
[3].tags = rabbitmq
[3].template.src = erlang-apt-preferences.j2
[3].template.dest = /etc/apt/preferences.d/erlang
[3].template.owner = root
[3].template.group = root
[3].template.mode = 0755
[4].name = Ensure the Erlang APT repo GPG key is present
[4].tags = rabbitmq
[4].apt_key.url = {{ sensu_rabbitmq_erlang_signing_key }}
[4].apt_key.state = present
[5].name = Ensure the Erlang APT repo is present
[5].tags = rabbitmq
[5].apt_repository.repo = {{ sensu_rabbitmq_erlang_repo }}
[5].apt_repository.filename = erlang
[5].apt_repository.state = present
[5].apt_repository.update_cache = true
[6].name = Ensure RabbitMQ is installed
[6].tags = rabbitmq
[6].apt.name = rabbitmq-server
[6].apt.state = {{ sensu_rabbitmq_pkg_state }}
[6].apt.cache_valid_time = 600
[6].apt.update_cache = true
