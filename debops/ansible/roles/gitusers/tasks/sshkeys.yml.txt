[0].name = Configure authorized SSH keys for users
[0]["ansible.posix.authorized_key"].key = {{ "\n".join(item.sshkeys) | string }}
[0]["ansible.posix.authorized_key"].state = present
[0]["ansible.posix.authorized_key"].user = {{ item.name + gitusers_name_suffix }}
[0].loop = {{ q("flattened", gitusers_list
                           + gitusers_group_list
                           + gitusers_host_list) }}

[0].when = ((item.name is defined and item.name) and (item.state is undefined or (item.state is defined and item.state != 'absent')) and (item.sshkeys is defined and item.sshkeys))
[1].name = Remove ~/.ssh/authorized_keys from user account if disabled
[1]["ansible.builtin.file"].dest = {{ item.home | default(gitusers_default_home_prefix + "/"
                                  + item.name + gitusers_name_suffix) }} /.ssh/authorized_keys
[1]["ansible.builtin.file"].state = absent
[1].loop = {{ q("flattened", gitusers_list
                           + gitusers_group_list
                           + gitusers_host_list) }}

[1].when = ((item.name is defined and item.name) and (item.state is undefined or (item.state is defined and item.state != 'absent')) and (item.sshkeys is defined and not item.sshkeys | bool))
