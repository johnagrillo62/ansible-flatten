[0].name = Create PostgreSQL user
[0]["community.postgresql.postgresql_user"].login_host = {{ rails_deploy_database_host }}
[0]["community.postgresql.postgresql_user"].port = {{ rails_deploy_database_port }}
[0]["community.postgresql.postgresql_user"].login_user = {{ rails_deploy_postgresql_super_username }}
[0]["community.postgresql.postgresql_user"].login_password = {{ rails_deploy_database_super_password }}
[0]["community.postgresql.postgresql_user"].name = {{ rails_deploy_service }}
[0]["community.postgresql.postgresql_user"].password = {{ rails_deploy_database_user_password }}
[0]["community.postgresql.postgresql_user"].encrypted = False
[0]["community.postgresql.postgresql_user"].state = present
[0]["community.postgresql.postgresql_user"].role_attr_flags = {{ rails_deploy_database_user_role_attrs }}
[0].no_log = {{ debops__no_log | d(True) }}
[0].when = rails_deploy_database_adapter == 'postgresql' and inventory_hostname == rails_deploy_hosts_master
[0].become = True
[0].become_user = {{ rails_deploy_postgresql_super_username }}
[1].name = Create PostgreSQL database if enabled
[1]["community.postgresql.postgresql_db"].login_host = {{ rails_deploy_database_host }}
[1]["community.postgresql.postgresql_db"].port = {{ rails_deploy_database_port }}
[1]["community.postgresql.postgresql_db"].login_user = {{ rails_deploy_postgresql_super_username }}
[1]["community.postgresql.postgresql_db"].login_password = {{ rails_deploy_database_super_password }}
[1]["community.postgresql.postgresql_db"].name = {{ rails_deploy_service }}_{{ rails_deploy_system_env }}
[1]["community.postgresql.postgresql_db"].owner = {{ rails_deploy_service }}
[1]["community.postgresql.postgresql_db"].encoding = UTF-8
[1]["community.postgresql.postgresql_db"].state = present
[1]["community.postgresql.postgresql_db"].template = template1
[1].register = rails_deploy_register_database_created
[1].when = rails_deploy_database_adapter == 'postgresql' and inventory_hostname == rails_deploy_hosts_master
[1].become = True
[1].become_user = {{ rails_deploy_postgresql_super_username }}
[1].no_log = {{ debops__no_log | d(True) }}
[2].name = Create MySQL user
[2]["community.mysql.mysql_user"].login_host = {{ rails_deploy_database_host }}
[2]["community.mysql.mysql_user"].login_port = {{ rails_deploy_database_port }}
[2]["community.mysql.mysql_user"].login_user = {{ rails_deploy_mysql_super_username }}
[2]["community.mysql.mysql_user"].login_password = {{ rails_deploy_database_super_password }}
[2]["community.mysql.mysql_user"].name = {{ rails_deploy_service }}
[2]["community.mysql.mysql_user"].password = {{ rails_deploy_mysql_user_password }}
[2]["community.mysql.mysql_user"].state = present
[2]["community.mysql.mysql_user"].login_unix_socket = /run/mysqld/mysqld.sock
[2].when = rails_deploy_database_adapter == 'mysql' and inventory_hostname == rails_deploy_hosts_master
[2].become = True
[2].become_user = {{ rails_deploy_mysql_super_username }}
[2].no_log = {{ debops__no_log | d(True) }}
[3].name = Create MySQL database if enabled
[3]["community.mysql.mysql_db"].login_host = {{ rails_deploy_database_host }}
[3]["community.mysql.mysql_db"].login_port = {{ rails_deploy_database_port }}
[3]["community.mysql.mysql_db"].login_user = {{ rails_deploy_mysql_super_username }}
[3]["community.mysql.mysql_db"].login_password = {{ rails_deploy_database_super_password }}
[3]["community.mysql.mysql_db"].name = {{ rails_deploy_service }}_{{ rails_deploy_system_env }}
[3]["community.mysql.mysql_db"].encoding = UTF-8
[3]["community.mysql.mysql_db"].state = present
[3]["community.mysql.mysql_db"].login_unix_socket = /run/mysqld/mysqld.sock
[3].register = rails_deploy_register_database_created
[3].when = rails_deploy_database_adapter == 'mysql' and inventory_hostname == rails_deploy_hosts_master
[3].become = True
[3].become_user = {{ rails_deploy_mysql_super_username }}
[3].no_log = {{ debops__no_log | d(True) }}
