[0].name = Generate a test ID
[0].set_fact.test_id = {{ lookup('password', '/dev/null chars=ascii_letters length=16') }}
[0].when = test_id is not defined
[1].name = Generate an org name
[1].set_fact.org_name = AWX-Collection-tests-organization-org-{{ test_id }}
[1].set_fact.group_name1 = AWX-Collection-tests-instance_group-group1-{{ test_id }}
[2].name = Make sure {{ org_name }} is not there
[2].organization.name = {{ org_name }}
[2].organization.state = absent
[2].register = result
[3].name = Create a new organization
[3].organization.name = {{ org_name }}
[3].organization.galaxy_credentials[0] = Ansible Galaxy
[3].register = result
[4].assert.that = result is changed
[5].name = Create a new organization with exists
[5].organization.name = {{ org_name }}
[5].organization.galaxy_credentials[0] = Ansible Galaxy
[5].organization.state = exists
[5].register = result
[6].assert.that = result is not changed
[7].name = Delete a new organization
[7].organization.name = {{ org_name }}
[7].organization.galaxy_credentials[0] = Ansible Galaxy
[7].organization.state = absent
[7].register = result
[8].assert.that = result is changed
[9].name = Create a new organization with exists
[9].organization.name = {{ org_name }}
[9].organization.galaxy_credentials[0] = Ansible Galaxy
[9].organization.state = exists
[9].register = result
[10].assert.that = result is changed
[11].name = Make sure making the same org is not a change
[11].organization.name = {{ org_name }}
[11].register = result
[12].assert.that[0] = result is not changed
[13].name = Create an Instance Group
[13].instance_group.name = {{ group_name1 }}
[13].instance_group.state = present
[13].register = result
[14].assert.that[0] = result is changed
[15].name = Pass in all parameters
[15].organization.name = {{ org_name }}
[15].organization.description = A description
[15].organization.instance_groups[0] = {{ group_name1 }}
[15].register = result
[16].assert.that[0] = result is changed
[17].name = Change the description
[17].organization.name = {{ org_name }}
[17].organization.description = A new description
[17].register = result
[18].assert.that[0] = result is changed
[19].name = Delete the instance groups
[19].instance_group.name = {{ group_name1 }}
[19].instance_group.state = absent
[20].name = Rename the organization
[20].organization.name = {{ org_name }}
[20].organization.new_name = {{ org_name }}a
[20].register = result
[21].assert.that[0] = result is changed
[22].name = Remove the organization
[22].organization.name = {{ org_name }}a
[22].organization.state = absent
[22].register = result
[23].assert.that[0] = result is changed
[24].name = Remove a missing organization
[24].organization.name = {{ org_name }}
[24].organization.state = absent
[24].register = result
[25].assert.that[0] = result is not changed
[26].name = Check that SSL is available and verify_ssl is enabled (task must fail)
[26].organization.name = Default
[26].organization.validate_certs = true
[26].ignore_errors = yes
[26].register = check_ssl_is_used
[27].name = Check that connection failed
[27].assert.that[0] = 'CERTIFICATE_VERIFY_FAILED' in check_ssl_is_used['msg']
[28].name = Check that verify_ssl is disabled (task must not fail)
[28].organization.name = Default
[28].organization.validate_certs = false
