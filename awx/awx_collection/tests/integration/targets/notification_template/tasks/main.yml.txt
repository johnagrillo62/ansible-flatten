[0].name = Generate a test ID
[0].set_fact.test_id = {{ lookup('password', '/dev/null chars=ascii_letters length=16') }}
[0].when = test_id is not defined
[1].name = Generate names
[1].set_fact.slack_not = AWX-Collection-tests-notification_template-slack-not-{{ test_id }}
[1].set_fact.webhook_not = AWX-Collection-tests-notification_template-wehbook-not-{{ test_id }}
[1].set_fact.email_not = AWX-Collection-tests-notification_template-email-not-{{ test_id }}
[1].set_fact.twillo_not = AWX-Collection-tests-notification_template-twillo-not-{{ test_id }}
[1].set_fact.pd_not = AWX-Collection-tests-notification_template-pd-not-{{ test_id }}
[1].set_fact.irc_not = AWX-Collection-tests-notification_template-irc-not-{{ test_id }}
[2].name = Create Slack notification with custom messages
[2].notification_template.name = {{ slack_not }}
[2].notification_template.organization = Default
[2].notification_template.notification_type = slack
[2].notification_template.notification_configuration.token = a_token
[2].notification_template.notification_configuration.channels[0] = general
[2].notification_template.messages.started.message = {{ '{{' }} job_friendly_name {{' }}' }} {{ '{{' }} job.id {{' }}' }} started
[2].notification_template.messages.success.message = {{ '{{' }} job_friendly_name {{ '}}' }} completed in {{ '{{' }} job.elapsed {{ '}}' }} seconds
[2].notification_template.messages.error.message = {{ '{{' }} job_friendly_name {{ '}}' }} FAILED! Please look at {{ '{{' }} job.url {{ '}}' }}
[2].notification_template.state = present
[2].register = result
[3].assert.that[0] = result is changed
[4].name = Create Slack notification with custom messages with exists
[4].notification_template.name = {{ slack_not }}
[4].notification_template.organization = Default
[4].notification_template.notification_type = slack
[4].notification_template.notification_configuration.token = a_token
[4].notification_template.notification_configuration.channels[0] = general
[4].notification_template.messages.started.message = {{ '{{' }} job_friendly_name {{' }}' }} {{ '{{' }} job.id {{' }}' }} started
[4].notification_template.messages.success.message = {{ '{{' }} job_friendly_name {{ '}}' }} completed in {{ '{{' }} job.elapsed {{ '}}' }} seconds
[4].notification_template.messages.error.message = {{ '{{' }} job_friendly_name {{ '}}' }} FAILED! Please look at {{ '{{' }} job.url {{ '}}' }}
[4].notification_template.state = exists
[4].register = result
[5].assert.that[0] = result is not changed
[6].name = Delete Slack notification with custom messages
[6].notification_template.name = {{ slack_not }}
[6].notification_template.organization = Default
[6].notification_template.notification_type = slack
[6].notification_template.notification_configuration.token = a_token
[6].notification_template.notification_configuration.channels[0] = general
[6].notification_template.messages.started.message = {{ '{{' }} job_friendly_name {{' }}' }} {{ '{{' }} job.id {{' }}' }} started
[6].notification_template.messages.success.message = {{ '{{' }} job_friendly_name {{ '}}' }} completed in {{ '{{' }} job.elapsed {{ '}}' }} seconds
[6].notification_template.messages.error.message = {{ '{{' }} job_friendly_name {{ '}}' }} FAILED! Please look at {{ '{{' }} job.url {{ '}}' }}
[6].notification_template.state = absent
[6].register = result
[7].assert.that[0] = result is changed
[8].name = Create Slack notification with custom messages with exists
[8].notification_template.name = {{ slack_not }}
[8].notification_template.organization = Default
[8].notification_template.notification_type = slack
[8].notification_template.notification_configuration.token = a_token
[8].notification_template.notification_configuration.channels[0] = general
[8].notification_template.messages.started.message = {{ '{{' }} job_friendly_name {{' }}' }} {{ '{{' }} job.id {{' }}' }} started
[8].notification_template.messages.success.message = {{ '{{' }} job_friendly_name {{ '}}' }} completed in {{ '{{' }} job.elapsed {{ '}}' }} seconds
[8].notification_template.messages.error.message = {{ '{{' }} job_friendly_name {{ '}}' }} FAILED! Please look at {{ '{{' }} job.url {{ '}}' }}
[8].notification_template.state = exists
[8].register = result
[9].assert.that[0] = result is changed
[10].name = Delete Slack notification
[10].notification_template.name = {{ slack_not }}
[10].notification_template.organization = Default
[10].notification_template.state = absent
[10].register = result
[11].assert.that[0] = result is changed
[12].name = Add webhook notification
[12].notification_template.name = {{ webhook_not }}
[12].notification_template.organization = Default
[12].notification_template.notification_type = webhook
[12].notification_template.notification_configuration.url = http://www.example.com/hook
[12].notification_template.notification_configuration.headers.X-Custom-Header = value123
[12].notification_template.state = present
[12].register = result
[13].assert.that[0] = result is changed
[14].name = Delete webhook notification
[14].notification_template.name = {{ webhook_not }}
[14].notification_template.organization = Default
[14].notification_template.state = absent
[14].register = result
[15].assert.that[0] = result is changed
[16].name = Add email notification
[16].notification_template.name = {{ email_not }}
[16].notification_template.organization = Default
[16].notification_template.notification_type = email
[16].notification_template.notification_configuration.username = user
[16].notification_template.notification_configuration.password = s3cr3t
[16].notification_template.notification_configuration.sender = tower@example.com
[16].notification_template.notification_configuration.recipients[0] = user1@example.com
[16].notification_template.notification_configuration.host = smtp.example.com
[16].notification_template.notification_configuration.port = 25
[16].notification_template.notification_configuration.use_tls = false
[16].notification_template.notification_configuration.use_ssl = false
[16].notification_template.state = present
[16].register = result
[17].assert.that[0] = result is changed
[18].name = Copy email notification
[18].notification_template.name = copy_{{ email_not }}
[18].notification_template.copy_from = {{ email_not }}
[18].notification_template.organization = Default
[18].register = result
[19].assert.that[0] = result.copied
[20].name = Delete copied email notification
[20].notification_template.name = copy_{{ email_not }}
[20].notification_template.organization = Default
[20].notification_template.state = absent
[20].register = result
[21].assert.that[0] = result is changed
[22].name = Delete email notification
[22].notification_template.name = {{ email_not }}
[22].notification_template.organization = Default
[22].notification_template.state = absent
[22].register = result
[23].assert.that[0] = result is changed
[24].name = Add twilio notification
[24].notification_template.name = {{ twillo_not }}
[24].notification_template.organization = Default
[24].notification_template.notification_type = twilio
[24].notification_template.notification_configuration.account_token = a_token
[24].notification_template.notification_configuration.account_sid = a_sid
[24].notification_template.notification_configuration.from_number = +15551112222
[24].notification_template.notification_configuration.to_numbers[0] = +15553334444
[24].notification_template.state = present
[24].register = result
[25].assert.that[0] = result is changed
[26].name = Delete twilio notification
[26].notification_template.name = {{ twillo_not }}
[26].notification_template.organization = Default
[26].notification_template.state = absent
[26].register = result
[27].assert.that[0] = result is changed
[28].name = Add PagerDuty notification
[28].notification_template.name = {{ pd_not }}
[28].notification_template.organization = Default
[28].notification_template.notification_type = pagerduty
[28].notification_template.notification_configuration.token = a_token
[28].notification_template.notification_configuration.subdomain = sub
[28].notification_template.notification_configuration.client_name = client
[28].notification_template.notification_configuration.service_key = a_key
[28].notification_template.state = present
[28].register = result
[29].assert.that[0] = result is changed
[30].name = Delete PagerDuty notification
[30].notification_template.name = {{ pd_not }}
[30].notification_template.organization = Default
[30].notification_template.state = absent
[30].register = result
[31].assert.that[0] = result is changed
[32].name = Add IRC notification
[32].notification_template.name = {{ irc_not }}
[32].notification_template.organization = Default
[32].notification_template.notification_type = irc
[32].notification_template.notification_configuration.nickname = tower
[32].notification_template.notification_configuration.password = s3cr3t
[32].notification_template.notification_configuration.targets[0] = user1
[32].notification_template.notification_configuration.port = 8080
[32].notification_template.notification_configuration.server = irc.example.com
[32].notification_template.notification_configuration.use_ssl = false
[32].notification_template.state = present
[32].register = result
[33].assert.that[0] = result is changed
[34].name = Delete IRC notification
[34].notification_template.name = {{ irc_not }}
[34].notification_template.organization = Default
[34].notification_template.state = absent
[34].register = result
[35].assert.that[0] = result is changed
