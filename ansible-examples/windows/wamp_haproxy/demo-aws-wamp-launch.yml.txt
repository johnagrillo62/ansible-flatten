doc[0][0].hosts = localhost
doc[0][0].connection = local
doc[0][0].gather_facts = False
doc[0][0].vars_files[0] = group_vars/all
doc[0][0].tasks[0].name = Launch webserver instances
doc[0][0].tasks[0].ec2 = access_key="{{ ec2_access_key }}" secret_key="{{ ec2_secret_key }}" keypair="{{ ec2_keypair }}" group="{{ ec2_security_group }}" type="{{ ec2_instance_type }}" image="ami-0d789266" region="{{ ec2_region }}" instance_tags="{'ansible_group':'windows_webservers', 'type':'{{ ec2_instance_type }}', 'group':'{{ ec2_security_group }}', 'Name':'demo_''{{ tower_user_name }}'}" count="{{ ec2_instance_count }}" wait=true

doc[0][0].tasks[0].register = ec2
doc[0][0].tasks[0].tags[0] = web
doc[0][0].tasks[1].name = Launch database instance
doc[0][0].tasks[1].ec2 = access_key="{{ ec2_access_key }}" secret_key="{{ ec2_secret_key }}" keypair="{{ ec2_keypair }}" group="{{ ec2_security_group }}" type="{{ ec2_instance_type }}" image="ami-17d66f7c" region="{{ ec2_region }}" instance_tags="{'ansible_group':'windows_dbservers', 'type':'{{ ec2_instance_type }}', 'group':'{{ ec2_security_group }}', 'Name':'demo_''{{ tower_user_name }}'}" count="1" wait=true

doc[0][0].tasks[1].register = ec2
doc[0][0].tasks[1].tags[0] = db
doc[0][0].tasks[2].name = Wait for WinRM to come up
doc[0][0].tasks[2].local_action = wait_for host={{ item.public_dns_name }} port=5986 delay=60 timeout=320 state=started
doc[0][0].tasks[2].with_items = ec2.instances
doc[0][0].tasks[2].tags[0] = web
doc[0][0].tasks[2].tags[1] = db
doc[1] = 
