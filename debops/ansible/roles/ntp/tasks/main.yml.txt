[0].name = Import DebOps global handlers
[0]["ansible.builtin.import_role"].name = global_handlers
[1].name = Ensure that configuration is supported
[1]["ansible.builtin.assert"].that = not ntp__daemon or ntp__daemon in [ 'chrony', 'ntpd', 'ntpdate', 'openntpd', 'systemd-timesyncd' ]
[2].name = Ensure that alternative daemons/programs are not installed
[2]["ansible.builtin.apt"].name = {{ ntp__purge_packages | flatten }}
[2]["ansible.builtin.apt"].state = absent
[2]["ansible.builtin.apt"].purge = True
[2].register = ntp__register_apt_purge
[2].until = ntp__register_apt_purge is succeeded
[2].when = ntp__daemon_enabled | bool
[3].name = Install NTP service
[3]["ansible.builtin.include_tasks"] = install.yml
[3].when = ntp__daemon_enabled | bool
[4].name = Make sure that Ansible local facts directory exists
[4]["ansible.builtin.file"].path = /etc/ansible/facts.d
[4]["ansible.builtin.file"].state = directory
[4]["ansible.builtin.file"].owner = root
[4]["ansible.builtin.file"].group = root
[4]["ansible.builtin.file"].mode = 0755
[5].name = Save ntp local facts
[5]["ansible.builtin.template"].src = etc/ansible/facts.d/ntp.fact.j2
[5]["ansible.builtin.template"].dest = /etc/ansible/facts.d/ntp.fact
[5]["ansible.builtin.template"].owner = root
[5]["ansible.builtin.template"].group = root
[5]["ansible.builtin.template"].mode = 0644
[5].tags[0] = meta::facts
