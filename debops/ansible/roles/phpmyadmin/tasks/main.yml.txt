~d0.name = Import DebOps secret role
~d1.ansible.builtin.import_role = 
~d2.name = 'secret'
~d0.name = Install dbconfig-common
~d1.ansible.builtin.package = 
~d2.name = 'dbconfig-common'
~d2.state = 'present'
~d1.register = phpmyadmin__register_dbconfig_packages
~d1.until = phpmyadmin__register_dbconfig_packages is succeeded
~d0.name = Pre-configure PHPMyAdmin database
~d1.ansible.builtin.template = 
~d2.src = 'etc/dbconfig-common/phpmyadmin.conf.j2'
~d2.dest = '/etc/dbconfig-common/phpmyadmin.conf'
~d2.owner = 'root'
~d2.group = 'root'
~d2.mode = '0600'
~d0.name = Install PHPMyAdmin packages
~d1.ansible.builtin.package = 
~d2.name = 'phpmyadmin'
~d2.state = 'present'
~d1.register = phpmyadmin__register_packages
~d1.until = phpmyadmin__register_packages is succeeded
~d0.name = Create database for PHPMyAdmin
~d1.community.mysql.mysql_db = 
~d2.name = '{{ phpmyadmin_control_database | default("phpmyadmin") }}'
~d2.state = 'present'
~d1.register = phpmyadmin_database
~d0.name = Import PHPMyAdmin schema
~d1.community.mysql.mysql_db = # noqa no-handler
~d2.name = '{{ phpmyadmin_control_database | default("phpmyadmin") }}'
~d2.state = 'import'
~d2.target = '/usr/share/dbconfig-common/data/phpmyadmin/install/mysql'
~d2.login_unix_socket = '/run/mysqld/mysqld.sock'
~d1.when = phpmyadmin_database is defined and phpmyadmin_database is changed
~d0.name = Create PHPMyAdmin control user
~d1.community.mysql.mysql_user = 
~d2.name = "{{ phpmyadmin_control_user | default('phpmyadmin') }}"
~d2.state = 'present'
~d2.password = '{{ phpmyadmin_control_password }}'
~d2.priv = "{{ phpmyadmin_control_database | default('phpmyadmin') }}.*:ALL"
~d2.login_unix_socket = '/run/mysqld/mysqld.sock'
~d1.no_log = '{{ debops__no_log | d(True) }}'
