doc[0].apiVersion = v1
doc[0].kind = Namespace
doc[0].metadata.name = cilium-secrets
doc[0].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[0].metadata.annotations = null
doc[1].apiVersion = v1
doc[1].kind = ServiceAccount
doc[1].metadata.name = cilium
doc[1].metadata.namespace = kube-system
doc[2].apiVersion = v1
doc[2].kind = ServiceAccount
doc[2].metadata.name = cilium-envoy
doc[2].metadata.namespace = kube-system
doc[3].apiVersion = v1
doc[3].kind = ServiceAccount
doc[3].metadata.name = cilium-operator
doc[3].metadata.namespace = kube-system
doc[4].apiVersion = v1
doc[4].kind = ConfigMap
doc[4].metadata.name = cilium-config
doc[4].metadata.namespace = kube-system
doc[4].data.identity-allocation-mode = crd
doc[4].data.identity-heartbeat-timeout = 30m0s
doc[4].data.identity-gc-interval = 15m0s
doc[4].data.cilium-endpoint-gc-interval = 5m0s
doc[4].data.nodes-gc-interval = 5m0s
doc[4].data.debug = false
doc[4].data.debug-verbose = 
doc[4].data.metrics-sampling-interval = 5m
doc[4].data.enable-policy = default
doc[4].data.policy-cidr-match-mode = 
doc[4].data.operator-prometheus-serve-addr = :9963
doc[4].data.enable-metrics = true
doc[4].data.enable-policy-secrets-sync = true
doc[4].data.policy-secrets-only-from-secrets-namespace = true
doc[4].data.policy-secrets-namespace = cilium-secrets
doc[4].data.enable-ipv4 = true
doc[4].data.enable-ipv6 = false
doc[4].data.custom-cni-conf = false
doc[4].data.enable-bpf-clock-probe = false
doc[4].data.monitor-aggregation = medium
doc[4].data.monitor-aggregation-interval = 5s
doc[4].data.monitor-aggregation-flags = all
doc[4].data.bpf-map-dynamic-size-ratio = 0.0025
doc[4].data.bpf-policy-map-max = 16384
doc[4].data.bpf-policy-stats-map-max = 65536
doc[4].data.bpf-lb-map-max = 65536
doc[4].data.bpf-lb-external-clusterip = false
doc[4].data.bpf-lb-source-range-all-types = false
doc[4].data.bpf-lb-algorithm-annotation = false
doc[4].data.bpf-lb-mode-annotation = false
doc[4].data.bpf-distributed-lru = false
doc[4].data.bpf-events-drop-enabled = true
doc[4].data.bpf-events-policy-verdict-enabled = true
doc[4].data.bpf-events-trace-enabled = true
doc[4].data.preallocate-bpf-maps = false
doc[4].data.cluster-name = default
doc[4].data.cluster-id = 0
doc[4].data.routing-mode = tunnel
doc[4].data.tunnel-protocol = vxlan
doc[4].data.tunnel-source-port-range = 0-0
doc[4].data.service-no-backend-response = reject
doc[4].data.enable-l7-proxy = true
doc[4].data.enable-ipv4-masquerade = true
doc[4].data.enable-ipv4-big-tcp = false
doc[4].data.enable-ipv6-big-tcp = false
doc[4].data.enable-ipv6-masquerade = true
doc[4].data.enable-tcx = true
doc[4].data.datapath-mode = veth
doc[4].data.enable-masquerade-to-route-source = false
doc[4].data.enable-xt-socket-fallback = true
doc[4].data.install-no-conntrack-iptables-rules = false
doc[4].data.iptables-random-fully = false
doc[4].data.auto-direct-node-routes = false
doc[4].data.direct-routing-skip-unreachable = false
doc[4].data.kube-proxy-replacement = false
doc[4].data.bpf-lb-sock = false
doc[4].data.enable-node-port = false
doc[4].data.nodeport-addresses = 
doc[4].data.enable-health-check-nodeport = true
doc[4].data.enable-health-check-loadbalancer-ip = false
doc[4].data.node-port-bind-protection = true
doc[4].data.enable-auto-protect-node-port-range = true
doc[4].data.bpf-lb-acceleration = disabled
doc[4].data.enable-svc-source-range-check = true
doc[4].data.enable-l2-neigh-discovery = false
doc[4].data.k8s-require-ipv4-pod-cidr = false
doc[4].data.k8s-require-ipv6-pod-cidr = false
doc[4].data.enable-k8s-networkpolicy = true
doc[4].data.enable-endpoint-lockdown-on-policy-overflow = false
doc[4].data.write-cni-conf-when-ready = /host/etc/cni/net.d/05-cilium.conflist
doc[4].data.cni-exclusive = true
doc[4].data.cni-log-file = /var/run/cilium/cilium-cni.log
doc[4].data.enable-endpoint-health-checking = true
doc[4].data.enable-health-checking = true
doc[4].data.health-check-icmp-failure-threshold = 3
doc[4].data.enable-well-known-identities = false
doc[4].data.enable-node-selector-labels = false
doc[4].data.synchronize-k8s-nodes = true
doc[4].data.operator-api-serve-addr = 127.0.0.1:9234
doc[4].data.enable-hubble = false
doc[4].data.ipam = cluster-pool
doc[4].data.ipam-cilium-node-update-rate = 15s
doc[4].data.cluster-pool-ipv4-cidr = {{ kube_pods_subnet }}
doc[4].data.cluster-pool-ipv4-mask-size = 24
doc[4].data.default-lb-service-ipam = lbipam
doc[4].data.egress-gateway-reconciliation-trigger-interval = 1s
doc[4].data.enable-vtep = false
doc[4].data.vtep-endpoint = 
doc[4].data.vtep-cidr = 
doc[4].data.vtep-mask = 
doc[4].data.vtep-mac = 
doc[4].data.procfs = /host/proc
doc[4].data.bpf-root = /sys/fs/bpf
doc[4].data.cgroup-root = /run/cilium/cgroupv2
doc[4].data.identity-management-mode = agent
doc[4].data.enable-sctp = false
doc[4].data.remove-cilium-node-taints = true
doc[4].data.set-cilium-node-taints = true
doc[4].data.set-cilium-is-up-condition = true
doc[4].data.unmanaged-pod-watcher-interval = 15
doc[4].data.dnsproxy-enable-transparent-mode = true
doc[4].data.dnsproxy-socket-linger-timeout = 10
doc[4].data.tofqdns-dns-reject-response-code = refused
doc[4].data.tofqdns-enable-dns-compression = true
doc[4].data.tofqdns-endpoint-max-ip-per-hostname = 1000
doc[4].data.tofqdns-idle-connection-grace-period = 0s
doc[4].data.tofqdns-max-deferred-connection-deletes = 10000
doc[4].data.tofqdns-proxy-response-max-delay = 100ms
doc[4].data.tofqdns-preallocate-identities = true
doc[4].data.agent-not-ready-taint-key = node.cilium.io/agent-not-ready
doc[4].data.mesh-auth-enabled = true
doc[4].data.mesh-auth-queue-size = 1024
doc[4].data.mesh-auth-rotated-identities-queue-size = 1024
doc[4].data.mesh-auth-gc-interval = 5m0s
doc[4].data.proxy-xff-num-trusted-hops-ingress = 0
doc[4].data.proxy-xff-num-trusted-hops-egress = 0
doc[4].data.proxy-connect-timeout = 2
doc[4].data.proxy-initial-fetch-timeout = 30
doc[4].data.proxy-max-requests-per-connection = 0
doc[4].data.proxy-max-connection-duration-seconds = 0
doc[4].data.proxy-idle-timeout-seconds = 60
doc[4].data.proxy-max-concurrent-retries = 128
doc[4].data.http-retry-count = 3
doc[4].data.http-stream-idle-timeout = 300
doc[4].data.external-envoy-proxy = true
doc[4].data.envoy-base-id = 0
doc[4].data.envoy-access-log-buffer-size = 4096
doc[4].data.envoy-keep-cap-netbindservice = false
doc[4].data.max-connected-clusters = 255
doc[4].data.clustermesh-enable-endpoint-sync = false
doc[4].data.clustermesh-enable-mcs-api = false
doc[4].data.policy-default-local-cluster = false
doc[4].data.nat-map-stats-entries = 32
doc[4].data.nat-map-stats-interval = 30s
doc[4].data.enable-internal-traffic-policy = true
doc[4].data.enable-lb-ipam = true
doc[4].data.enable-non-default-deny-policies = true
doc[4].data.enable-source-ip-verification = true
doc[5].apiVersion = v1
doc[5].kind = ConfigMap
doc[5].metadata.name = cilium-envoy-config
doc[5].metadata.namespace = kube-system
doc[5].data["bootstrap-config.json"] = {"admin":{"address":{"pipe":{"path":"/var/run/cilium/envoy/sockets/admin.sock"}}},"applicationLogConfig":{"logFormat":{"textFormat":"[%Y-%m-%d %T.%e][%t][%l][%n] [%g:%#] %v"}},"bootstrapExtensions":[{"name":"envoy.bootstrap.internal_listener","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.bootstrap.internal_listener.v3.InternalListener"}}],"dynamicResources":{"cdsConfig":{"apiConfigSource":{"apiType":"GRPC","grpcServices":[{"envoyGrpc":{"clusterName":"xds-grpc-cilium"}}],"setNodeOnFirstMessageOnly":true,"transportApiVersion":"V3"},"initialFetchTimeout":"30s","resourceApiVersion":"V3"},"ldsConfig":{"apiConfigSource":{"apiType":"GRPC","grpcServices":[{"envoyGrpc":{"clusterName":"xds-grpc-cilium"}}],"setNodeOnFirstMessageOnly":true,"transportApiVersion":"V3"},"initialFetchTimeout":"30s","resourceApiVersion":"V3"}},"node":{"cluster":"ingress-cluster","id":"host~127.0.0.1~no-id~localdomain"},"overloadManager":{"resourceMonitors":[{"name":"envoy.resource_monitors.global_downstream_max_connections","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.resource_monitors.downstream_connections.v3.DownstreamConnectionsConfig","max_active_downstream_connections":"50000"}}]},"staticResources":{"clusters":[{"circuitBreakers":{"thresholds":[{"maxRetries":128}]},"cleanupInterval":"2.500s","connectTimeout":"2s","lbPolicy":"CLUSTER_PROVIDED","name":"ingress-cluster","type":"ORIGINAL_DST","typedExtensionProtocolOptions":{"envoy.extensions.upstreams.http.v3.HttpProtocolOptions":{"@type":"type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions","commonHttpProtocolOptions":{"idleTimeout":"60s","maxConnectionDuration":"0s","maxRequestsPerConnection":0},"useDownstreamProtocolConfig":{}}}},{"circuitBreakers":{"thresholds":[{"maxRetries":128}]},"cleanupInterval":"2.500s","connectTimeout":"2s","lbPolicy":"CLUSTER_PROVIDED","name":"egress-cluster-tls","transportSocket":{"name":"cilium.tls_wrapper","typedConfig":{"@type":"type.googleapis.com/cilium.UpstreamTlsWrapperContext"}},"type":"ORIGINAL_DST","typedExtensionProtocolOptions":{"envoy.extensions.upstreams.http.v3.HttpProtocolOptions":{"@type":"type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions","commonHttpProtocolOptions":{"idleTimeout":"60s","maxConnectionDuration":"0s","maxRequestsPerConnection":0},"upstreamHttpProtocolOptions":{},"useDownstreamProtocolConfig":{}}}},{"circuitBreakers":{"thresholds":[{"maxRetries":128}]},"cleanupInterval":"2.500s","connectTimeout":"2s","lbPolicy":"CLUSTER_PROVIDED","name":"egress-cluster","type":"ORIGINAL_DST","typedExtensionProtocolOptions":{"envoy.extensions.upstreams.http.v3.HttpProtocolOptions":{"@type":"type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions","commonHttpProtocolOptions":{"idleTimeout":"60s","maxConnectionDuration":"0s","maxRequestsPerConnection":0},"useDownstreamProtocolConfig":{}}}},{"circuitBreakers":{"thresholds":[{"maxRetries":128}]},"cleanupInterval":"2.500s","connectTimeout":"2s","lbPolicy":"CLUSTER_PROVIDED","name":"ingress-cluster-tls","transportSocket":{"name":"cilium.tls_wrapper","typedConfig":{"@type":"type.googleapis.com/cilium.UpstreamTlsWrapperContext"}},"type":"ORIGINAL_DST","typedExtensionProtocolOptions":{"envoy.extensions.upstreams.http.v3.HttpProtocolOptions":{"@type":"type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions","commonHttpProtocolOptions":{"idleTimeout":"60s","maxConnectionDuration":"0s","maxRequestsPerConnection":0},"upstreamHttpProtocolOptions":{},"useDownstreamProtocolConfig":{}}}},{"connectTimeout":"2s","loadAssignment":{"clusterName":"xds-grpc-cilium","endpoints":[{"lbEndpoints":[{"endpoint":{"address":{"pipe":{"path":"/var/run/cilium/envoy/sockets/xds.sock"}}}}]}]},"name":"xds-grpc-cilium","type":"STATIC","typedExtensionProtocolOptions":{"envoy.extensions.upstreams.http.v3.HttpProtocolOptions":{"@type":"type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions","explicitHttpConfig":{"http2ProtocolOptions":{}}}}},{"connectTimeout":"2s","loadAssignment":{"clusterName":"/envoy-admin","endpoints":[{"lbEndpoints":[{"endpoint":{"address":{"pipe":{"path":"/var/run/cilium/envoy/sockets/admin.sock"}}}}]}]},"name":"/envoy-admin","type":"STATIC"}],"listeners":[{"address":{"socketAddress":{"address":"0.0.0.0","portValue":9964}},"filterChains":[{"filters":[{"name":"envoy.filters.network.http_connection_manager","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager","httpFilters":[{"name":"envoy.filters.http.router","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.filters.http.router.v3.Router"}}],"internalAddressConfig":{"cidrRanges":[{"addressPrefix":"10.0.0.0","prefixLen":8},{"addressPrefix":"172.16.0.0","prefixLen":12},{"addressPrefix":"192.168.0.0","prefixLen":16},{"addressPrefix":"127.0.0.1","prefixLen":32}]},"routeConfig":{"virtualHosts":[{"domains":["*"],"name":"prometheus_metrics_route","routes":[{"match":{"prefix":"/metrics"},"name":"prometheus_metrics_route","route":{"cluster":"/envoy-admin","prefixRewrite":"/stats/prometheus"}}]}]},"statPrefix":"envoy-prometheus-metrics-listener","streamIdleTimeout":"300s"}}]}],"name":"envoy-prometheus-metrics-listener"},{"address":{"socketAddress":{"address":"127.0.0.1","portValue":9878}},"filterChains":[{"filters":[{"name":"envoy.filters.network.http_connection_manager","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager","httpFilters":[{"name":"envoy.filters.http.router","typedConfig":{"@type":"type.googleapis.com/envoy.extensions.filters.http.router.v3.Router"}}],"internalAddressConfig":{"cidrRanges":[{"addressPrefix":"10.0.0.0","prefixLen":8},{"addressPrefix":"172.16.0.0","prefixLen":12},{"addressPrefix":"192.168.0.0","prefixLen":16},{"addressPrefix":"127.0.0.1","prefixLen":32}]},"routeConfig":{"virtual_hosts":[{"domains":["*"],"name":"health","routes":[{"match":{"prefix":"/healthz"},"name":"health","route":{"cluster":"/envoy-admin","prefixRewrite":"/ready"}}]}]},"statPrefix":"envoy-health-listener","streamIdleTimeout":"300s"}}]}],"name":"envoy-health-listener"}]}}

doc[6].apiVersion = rbac.authorization.k8s.io/v1
doc[6].kind = ClusterRole
doc[6].metadata.name = cilium
doc[6].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[6].rules[0].apiGroups[0] = networking.k8s.io
doc[6].rules[0].resources[0] = networkpolicies
doc[6].rules[0].verbs[0] = get
doc[6].rules[0].verbs[1] = list
doc[6].rules[0].verbs[2] = watch
doc[6].rules[1].apiGroups[0] = discovery.k8s.io
doc[6].rules[1].resources[0] = endpointslices
doc[6].rules[1].verbs[0] = get
doc[6].rules[1].verbs[1] = list
doc[6].rules[1].verbs[2] = watch
doc[6].rules[2].apiGroups[0] = 
doc[6].rules[2].resources[0] = namespaces
doc[6].rules[2].resources[1] = services
doc[6].rules[2].resources[2] = pods
doc[6].rules[2].resources[3] = endpoints
doc[6].rules[2].resources[4] = nodes
doc[6].rules[2].verbs[0] = get
doc[6].rules[2].verbs[1] = list
doc[6].rules[2].verbs[2] = watch
doc[6].rules[3].apiGroups[0] = apiextensions.k8s.io
doc[6].rules[3].resources[0] = customresourcedefinitions
doc[6].rules[3].verbs[0] = list
doc[6].rules[3].verbs[1] = watch
doc[6].rules[3].verbs[2] = get
doc[6].rules[4].apiGroups[0] = cilium.io
doc[6].rules[4].resources[0] = ciliumloadbalancerippools
doc[6].rules[4].resources[1] = ciliumbgppeeringpolicies
doc[6].rules[4].resources[2] = ciliumbgpnodeconfigs
doc[6].rules[4].resources[3] = ciliumbgpadvertisements
doc[6].rules[4].resources[4] = ciliumbgppeerconfigs
doc[6].rules[4].resources[5] = ciliumclusterwideenvoyconfigs
doc[6].rules[4].resources[6] = ciliumclusterwidenetworkpolicies
doc[6].rules[4].resources[7] = ciliumegressgatewaypolicies
doc[6].rules[4].resources[8] = ciliumendpoints
doc[6].rules[4].resources[9] = ciliumendpointslices
doc[6].rules[4].resources[10] = ciliumenvoyconfigs
doc[6].rules[4].resources[11] = ciliumidentities
doc[6].rules[4].resources[12] = ciliumlocalredirectpolicies
doc[6].rules[4].resources[13] = ciliumnetworkpolicies
doc[6].rules[4].resources[14] = ciliumnodes
doc[6].rules[4].resources[15] = ciliumnodeconfigs
doc[6].rules[4].resources[16] = ciliumcidrgroups
doc[6].rules[4].resources[17] = ciliuml2announcementpolicies
doc[6].rules[4].resources[18] = ciliumpodippools
doc[6].rules[4].verbs[0] = list
doc[6].rules[4].verbs[1] = watch
doc[6].rules[5].apiGroups[0] = cilium.io
doc[6].rules[5].resources[0] = ciliumidentities
doc[6].rules[5].resources[1] = ciliumendpoints
doc[6].rules[5].resources[2] = ciliumnodes
doc[6].rules[5].verbs[0] = create
doc[6].rules[6].apiGroups[0] = cilium.io
doc[6].rules[6].resources[0] = ciliumidentities
doc[6].rules[6].verbs[0] = update
doc[6].rules[7].apiGroups[0] = cilium.io
doc[6].rules[7].resources[0] = ciliumendpoints
doc[6].rules[7].verbs[0] = delete
doc[6].rules[7].verbs[1] = get
doc[6].rules[8].apiGroups[0] = cilium.io
doc[6].rules[8].resources[0] = ciliumnodes
doc[6].rules[8].resources[1] = ciliumnodes/status
doc[6].rules[8].verbs[0] = get
doc[6].rules[8].verbs[1] = update
doc[6].rules[9].apiGroups[0] = cilium.io
doc[6].rules[9].resources[0] = ciliumendpoints/status
doc[6].rules[9].resources[1] = ciliumendpoints
doc[6].rules[9].resources[2] = ciliuml2announcementpolicies/status
doc[6].rules[9].resources[3] = ciliumbgpnodeconfigs/status
doc[6].rules[9].verbs[0] = patch
doc[7].apiVersion = rbac.authorization.k8s.io/v1
doc[7].kind = ClusterRole
doc[7].metadata.name = cilium-operator
doc[7].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[7].rules[0].apiGroups[0] = 
doc[7].rules[0].resources[0] = pods
doc[7].rules[0].verbs[0] = get
doc[7].rules[0].verbs[1] = list
doc[7].rules[0].verbs[2] = watch
doc[7].rules[0].verbs[3] = delete
doc[7].rules[1].apiGroups[0] = 
doc[7].rules[1].resources[0] = configmaps
doc[7].rules[1].resourceNames[0] = cilium-config
doc[7].rules[1].verbs[0] = patch
doc[7].rules[2].apiGroups[0] = 
doc[7].rules[2].resources[0] = nodes
doc[7].rules[2].verbs[0] = list
doc[7].rules[2].verbs[1] = watch
doc[7].rules[3].apiGroups[0] = 
doc[7].rules[3].resources[0] = nodes
doc[7].rules[3].resources[1] = nodes/status
doc[7].rules[3].verbs[0] = patch
doc[7].rules[4].apiGroups[0] = discovery.k8s.io
doc[7].rules[4].resources[0] = endpointslices
doc[7].rules[4].verbs[0] = get
doc[7].rules[4].verbs[1] = list
doc[7].rules[4].verbs[2] = watch
doc[7].rules[5].apiGroups[0] = 
doc[7].rules[5].resources[0] = services/status
doc[7].rules[5].verbs[0] = update
doc[7].rules[5].verbs[1] = patch
doc[7].rules[6].apiGroups[0] = 
doc[7].rules[6].resources[0] = namespaces
doc[7].rules[6].resources[1] = secrets
doc[7].rules[6].verbs[0] = get
doc[7].rules[6].verbs[1] = list
doc[7].rules[6].verbs[2] = watch
doc[7].rules[7].apiGroups[0] = 
doc[7].rules[7].resources[0] = services
doc[7].rules[7].resources[1] = endpoints
doc[7].rules[7].verbs[0] = get
doc[7].rules[7].verbs[1] = list
doc[7].rules[7].verbs[2] = watch
doc[7].rules[8].apiGroups[0] = cilium.io
doc[7].rules[8].resources[0] = ciliumnetworkpolicies
doc[7].rules[8].resources[1] = ciliumclusterwidenetworkpolicies
doc[7].rules[8].verbs[0] = create
doc[7].rules[8].verbs[1] = update
doc[7].rules[8].verbs[2] = deletecollection
doc[7].rules[8].verbs[3] = patch
doc[7].rules[8].verbs[4] = get
doc[7].rules[8].verbs[5] = list
doc[7].rules[8].verbs[6] = watch
doc[7].rules[9].apiGroups[0] = cilium.io
doc[7].rules[9].resources[0] = ciliumnetworkpolicies/status
doc[7].rules[9].resources[1] = ciliumclusterwidenetworkpolicies/status
doc[7].rules[9].verbs[0] = patch
doc[7].rules[9].verbs[1] = update
doc[7].rules[10].apiGroups[0] = cilium.io
doc[7].rules[10].resources[0] = ciliumendpoints
doc[7].rules[10].resources[1] = ciliumidentities
doc[7].rules[10].verbs[0] = delete
doc[7].rules[10].verbs[1] = list
doc[7].rules[10].verbs[2] = watch
doc[7].rules[11].apiGroups[0] = cilium.io
doc[7].rules[11].resources[0] = ciliumidentities
doc[7].rules[11].verbs[0] = update
doc[7].rules[12].apiGroups[0] = cilium.io
doc[7].rules[12].resources[0] = ciliumnodes
doc[7].rules[12].verbs[0] = create
doc[7].rules[12].verbs[1] = update
doc[7].rules[12].verbs[2] = get
doc[7].rules[12].verbs[3] = list
doc[7].rules[12].verbs[4] = watch
doc[7].rules[12].verbs[5] = delete
doc[7].rules[13].apiGroups[0] = cilium.io
doc[7].rules[13].resources[0] = ciliumnodes/status
doc[7].rules[13].verbs[0] = update
doc[7].rules[14].apiGroups[0] = cilium.io
doc[7].rules[14].resources[0] = ciliumendpointslices
doc[7].rules[14].resources[1] = ciliumenvoyconfigs
doc[7].rules[14].resources[2] = ciliumbgppeerconfigs
doc[7].rules[14].resources[3] = ciliumbgpadvertisements
doc[7].rules[14].resources[4] = ciliumbgpnodeconfigs
doc[7].rules[14].verbs[0] = create
doc[7].rules[14].verbs[1] = update
doc[7].rules[14].verbs[2] = get
doc[7].rules[14].verbs[3] = list
doc[7].rules[14].verbs[4] = watch
doc[7].rules[14].verbs[5] = delete
doc[7].rules[14].verbs[6] = patch
doc[7].rules[15].apiGroups[0] = cilium.io
doc[7].rules[15].resources[0] = ciliumbgpclusterconfigs/status
doc[7].rules[15].resources[1] = ciliumbgppeerconfigs/status
doc[7].rules[15].verbs[0] = update
doc[7].rules[16].apiGroups[0] = apiextensions.k8s.io
doc[7].rules[16].resources[0] = customresourcedefinitions
doc[7].rules[16].verbs[0] = create
doc[7].rules[16].verbs[1] = get
doc[7].rules[16].verbs[2] = list
doc[7].rules[16].verbs[3] = watch
doc[7].rules[17].apiGroups[0] = apiextensions.k8s.io
doc[7].rules[17].resources[0] = customresourcedefinitions
doc[7].rules[17].verbs[0] = update
doc[7].rules[17].resourceNames[0] = ciliumloadbalancerippools.cilium.io
doc[7].rules[17].resourceNames[1] = ciliumbgppeeringpolicies.cilium.io
doc[7].rules[17].resourceNames[2] = ciliumbgpclusterconfigs.cilium.io
doc[7].rules[17].resourceNames[3] = ciliumbgppeerconfigs.cilium.io
doc[7].rules[17].resourceNames[4] = ciliumbgpadvertisements.cilium.io
doc[7].rules[17].resourceNames[5] = ciliumbgpnodeconfigs.cilium.io
doc[7].rules[17].resourceNames[6] = ciliumbgpnodeconfigoverrides.cilium.io
doc[7].rules[17].resourceNames[7] = ciliumclusterwideenvoyconfigs.cilium.io
doc[7].rules[17].resourceNames[8] = ciliumclusterwidenetworkpolicies.cilium.io
doc[7].rules[17].resourceNames[9] = ciliumegressgatewaypolicies.cilium.io
doc[7].rules[17].resourceNames[10] = ciliumendpoints.cilium.io
doc[7].rules[17].resourceNames[11] = ciliumendpointslices.cilium.io
doc[7].rules[17].resourceNames[12] = ciliumenvoyconfigs.cilium.io
doc[7].rules[17].resourceNames[13] = ciliumidentities.cilium.io
doc[7].rules[17].resourceNames[14] = ciliumlocalredirectpolicies.cilium.io
doc[7].rules[17].resourceNames[15] = ciliumnetworkpolicies.cilium.io
doc[7].rules[17].resourceNames[16] = ciliumnodes.cilium.io
doc[7].rules[17].resourceNames[17] = ciliumnodeconfigs.cilium.io
doc[7].rules[17].resourceNames[18] = ciliumcidrgroups.cilium.io
doc[7].rules[17].resourceNames[19] = ciliuml2announcementpolicies.cilium.io
doc[7].rules[17].resourceNames[20] = ciliumpodippools.cilium.io
doc[7].rules[17].resourceNames[21] = ciliumgatewayclassconfigs.cilium.io
doc[7].rules[18].apiGroups[0] = cilium.io
doc[7].rules[18].resources[0] = ciliumloadbalancerippools
doc[7].rules[18].resources[1] = ciliumpodippools
doc[7].rules[18].resources[2] = ciliumbgppeeringpolicies
doc[7].rules[18].resources[3] = ciliumbgpclusterconfigs
doc[7].rules[18].resources[4] = ciliumbgpnodeconfigoverrides
doc[7].rules[18].resources[5] = ciliumbgppeerconfigs
doc[7].rules[18].verbs[0] = get
doc[7].rules[18].verbs[1] = list
doc[7].rules[18].verbs[2] = watch
doc[7].rules[19].apiGroups[0] = cilium.io
doc[7].rules[19].resources[0] = ciliumpodippools
doc[7].rules[19].verbs[0] = create
doc[7].rules[20].apiGroups[0] = cilium.io
doc[7].rules[20].resources[0] = ciliumloadbalancerippools/status
doc[7].rules[20].verbs[0] = patch
doc[7].rules[21].apiGroups[0] = coordination.k8s.io
doc[7].rules[21].resources[0] = leases
doc[7].rules[21].verbs[0] = create
doc[7].rules[21].verbs[1] = get
doc[7].rules[21].verbs[2] = update
doc[8].apiVersion = rbac.authorization.k8s.io/v1
doc[8].kind = ClusterRoleBinding
doc[8].metadata.name = cilium
doc[8].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[8].roleRef.apiGroup = rbac.authorization.k8s.io
doc[8].roleRef.kind = ClusterRole
doc[8].roleRef.name = cilium
doc[8].subjects[0].kind = ServiceAccount
doc[8].subjects[0].name = cilium
doc[8].subjects[0].namespace = kube-system
doc[9].apiVersion = rbac.authorization.k8s.io/v1
doc[9].kind = ClusterRoleBinding
doc[9].metadata.name = cilium-operator
doc[9].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[9].roleRef.apiGroup = rbac.authorization.k8s.io
doc[9].roleRef.kind = ClusterRole
doc[9].roleRef.name = cilium-operator
doc[9].subjects[0].kind = ServiceAccount
doc[9].subjects[0].name = cilium-operator
doc[9].subjects[0].namespace = kube-system
doc[10].apiVersion = rbac.authorization.k8s.io/v1
doc[10].kind = Role
doc[10].metadata.name = cilium-config-agent
doc[10].metadata.namespace = kube-system
doc[10].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[10].rules[0].apiGroups[0] = 
doc[10].rules[0].resources[0] = configmaps
doc[10].rules[0].verbs[0] = get
doc[10].rules[0].verbs[1] = list
doc[10].rules[0].verbs[2] = watch
doc[11].apiVersion = rbac.authorization.k8s.io/v1
doc[11].kind = Role
doc[11].metadata.name = cilium-tlsinterception-secrets
doc[11].metadata.namespace = cilium-secrets
doc[11].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[11].rules[0].apiGroups[0] = 
doc[11].rules[0].resources[0] = secrets
doc[11].rules[0].verbs[0] = get
doc[11].rules[0].verbs[1] = list
doc[11].rules[0].verbs[2] = watch
doc[12].apiVersion = rbac.authorization.k8s.io/v1
doc[12].kind = Role
doc[12].metadata.name = cilium-operator-tlsinterception-secrets
doc[12].metadata.namespace = cilium-secrets
doc[12].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[12].rules[0].apiGroups[0] = 
doc[12].rules[0].resources[0] = secrets
doc[12].rules[0].verbs[0] = create
doc[12].rules[0].verbs[1] = delete
doc[12].rules[0].verbs[2] = update
doc[12].rules[0].verbs[3] = patch
doc[13].apiVersion = rbac.authorization.k8s.io/v1
doc[13].kind = RoleBinding
doc[13].metadata.name = cilium-config-agent
doc[13].metadata.namespace = kube-system
doc[13].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[13].roleRef.apiGroup = rbac.authorization.k8s.io
doc[13].roleRef.kind = Role
doc[13].roleRef.name = cilium-config-agent
doc[13].subjects[0].kind = ServiceAccount
doc[13].subjects[0].name = cilium
doc[13].subjects[0].namespace = kube-system
doc[14].apiVersion = rbac.authorization.k8s.io/v1
doc[14].kind = RoleBinding
doc[14].metadata.name = cilium-tlsinterception-secrets
doc[14].metadata.namespace = cilium-secrets
doc[14].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[14].roleRef.apiGroup = rbac.authorization.k8s.io
doc[14].roleRef.kind = Role
doc[14].roleRef.name = cilium-tlsinterception-secrets
doc[14].subjects[0].kind = ServiceAccount
doc[14].subjects[0].name = cilium
doc[14].subjects[0].namespace = kube-system
doc[15].apiVersion = rbac.authorization.k8s.io/v1
doc[15].kind = RoleBinding
doc[15].metadata.name = cilium-operator-tlsinterception-secrets
doc[15].metadata.namespace = cilium-secrets
doc[15].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[15].roleRef.apiGroup = rbac.authorization.k8s.io
doc[15].roleRef.kind = Role
doc[15].roleRef.name = cilium-operator-tlsinterception-secrets
doc[15].subjects[0].kind = ServiceAccount
doc[15].subjects[0].name = cilium-operator
doc[15].subjects[0].namespace = kube-system
doc[16].apiVersion = v1
doc[16].kind = Service
doc[16].metadata.name = cilium-envoy
doc[16].metadata.namespace = kube-system
doc[16].metadata.annotations["prometheus.io/scrape"] = true
doc[16].metadata.annotations["prometheus.io/port"] = 9964
doc[16].metadata.labels.k8s-app = cilium-envoy
doc[16].metadata.labels["app.kubernetes.io/name"] = cilium-envoy
doc[16].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[16].metadata.labels["io.cilium/app"] = proxy
doc[16].spec.clusterIP = None
doc[16].spec.type = ClusterIP
doc[16].spec.selector.k8s-app = cilium-envoy
doc[16].spec.ports[0].name = envoy-metrics
doc[16].spec.ports[0].port = 9964
doc[16].spec.ports[0].protocol = TCP
doc[16].spec.ports[0].targetPort = envoy-metrics
doc[17].apiVersion = apps/v1
doc[17].kind = DaemonSet
doc[17].metadata.name = cilium
doc[17].metadata.namespace = kube-system
doc[17].metadata.labels.k8s-app = cilium
doc[17].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[17].metadata.labels["app.kubernetes.io/name"] = cilium-agent
doc[17].spec.selector.matchLabels.k8s-app = cilium
doc[17].spec.updateStrategy.rollingUpdate.maxUnavailable = 2
doc[17].spec.updateStrategy.type = RollingUpdate
doc[17].spec.template.metadata.annotations["kubectl.kubernetes.io/default-container"] = cilium-agent
doc[17].spec.template.metadata.labels.k8s-app = cilium
doc[17].spec.template.metadata.labels["app.kubernetes.io/name"] = cilium-agent
doc[17].spec.template.metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[17].spec.template.spec.securityContext.appArmorProfile.type = Unconfined
doc[17].spec.template.spec.securityContext.seccompProfile.type = Unconfined
doc[17].spec.template.spec.containers[0].name = cilium-agent
doc[17].spec.template.spec.containers[0].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.containers[0].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.containers[0].command[0] = cilium-agent
doc[17].spec.template.spec.containers[0].args[0] = --config-dir=/tmp/cilium/config-map
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.host = 127.0.0.1
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.path = /healthz
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.port = 9879
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.scheme = HTTP
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.httpHeaders[0].name = brief
doc[17].spec.template.spec.containers[0].startupProbe.httpGet.httpHeaders[0].value = true
doc[17].spec.template.spec.containers[0].startupProbe.failureThreshold = 300
doc[17].spec.template.spec.containers[0].startupProbe.periodSeconds = 2
doc[17].spec.template.spec.containers[0].startupProbe.successThreshold = 1
doc[17].spec.template.spec.containers[0].startupProbe.initialDelaySeconds = 5
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.host = 127.0.0.1
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.path = /healthz
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.port = 9879
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.scheme = HTTP
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.httpHeaders[0].name = brief
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.httpHeaders[0].value = true
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.httpHeaders[1].name = require-k8s-connectivity
doc[17].spec.template.spec.containers[0].livenessProbe.httpGet.httpHeaders[1].value = false
doc[17].spec.template.spec.containers[0].livenessProbe.periodSeconds = 30
doc[17].spec.template.spec.containers[0].livenessProbe.successThreshold = 1
doc[17].spec.template.spec.containers[0].livenessProbe.failureThreshold = 10
doc[17].spec.template.spec.containers[0].livenessProbe.timeoutSeconds = 5
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.host = 127.0.0.1
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.path = /healthz
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.port = 9879
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.scheme = HTTP
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.httpHeaders[0].name = brief
doc[17].spec.template.spec.containers[0].readinessProbe.httpGet.httpHeaders[0].value = true
doc[17].spec.template.spec.containers[0].readinessProbe.periodSeconds = 30
doc[17].spec.template.spec.containers[0].readinessProbe.successThreshold = 1
doc[17].spec.template.spec.containers[0].readinessProbe.failureThreshold = 3
doc[17].spec.template.spec.containers[0].readinessProbe.timeoutSeconds = 5
doc[17].spec.template.spec.containers[0].env[0].name = K8S_NODE_NAME
doc[17].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.apiVersion = v1
doc[17].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.fieldPath = spec.nodeName
doc[17].spec.template.spec.containers[0].env[1].name = CILIUM_K8S_NAMESPACE
doc[17].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.apiVersion = v1
doc[17].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.fieldPath = metadata.namespace
doc[17].spec.template.spec.containers[0].env[2].name = CILIUM_CLUSTERMESH_CONFIG
doc[17].spec.template.spec.containers[0].env[2].value = /var/lib/cilium/clustermesh/
doc[17].spec.template.spec.containers[0].env[3].name = GOMEMLIMIT
doc[17].spec.template.spec.containers[0].env[3].valueFrom.resourceFieldRef.resource = limits.memory
doc[17].spec.template.spec.containers[0].env[3].valueFrom.resourceFieldRef.divisor = 1
doc[17].spec.template.spec.containers[0].env[4].name = KUBE_CLIENT_BACKOFF_BASE
doc[17].spec.template.spec.containers[0].env[4].value = 1
doc[17].spec.template.spec.containers[0].env[5].name = KUBE_CLIENT_BACKOFF_DURATION
doc[17].spec.template.spec.containers[0].env[5].value = 120
doc[17].spec.template.spec.containers[0].lifecycle.postStart.exec.command[0] = bash
doc[17].spec.template.spec.containers[0].lifecycle.postStart.exec.command[1] = -c
doc[17].spec.template.spec.containers[0].lifecycle.postStart.exec.command[2] = set -o errexit
set -o pipefail
set -o nounset

# When running in AWS ENI mode, it's likely that 'aws-node' has
# had a chance to install SNAT iptables rules. These can result
# in dropped traffic, so we should attempt to remove them.
# We do it using a 'postStart' hook since this may need to run
# for nodes which might have already been init'ed but may still
# have dangling rules. This is safe because there are no
# dependencies on anything that is part of the startup script
# itself, and can be safely run multiple times per node (e.g. in
# case of a restart).
if [[ "$(iptables-save | grep -E -c 'AWS-SNAT-CHAIN|AWS-CONNMARK-CHAIN')" != "0" ]];
then
    echo 'Deleting iptables rules created by the AWS CNI VPC plugin'
    iptables-save | grep -E -v 'AWS-SNAT-CHAIN|AWS-CONNMARK-CHAIN' | iptables-restore
fi
echo 'Done!'

doc[17].spec.template.spec.containers[0].lifecycle.preStop.exec.command[0] = /cni-uninstall.sh
doc[17].spec.template.spec.containers[0].securityContext.seLinuxOptions.level = s0
doc[17].spec.template.spec.containers[0].securityContext.seLinuxOptions.type = spc_t
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[0] = CHOWN
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[1] = KILL
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[2] = NET_ADMIN
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[3] = NET_RAW
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[4] = IPC_LOCK
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[5] = SYS_MODULE
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[6] = SYS_ADMIN
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[7] = SYS_RESOURCE
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[8] = DAC_OVERRIDE
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[9] = FOWNER
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[10] = SETGID
doc[17].spec.template.spec.containers[0].securityContext.capabilities.add[11] = SETUID
doc[17].spec.template.spec.containers[0].securityContext.capabilities.drop[0] = ALL
doc[17].spec.template.spec.containers[0].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.containers[0].volumeMounts[0].name = envoy-sockets
doc[17].spec.template.spec.containers[0].volumeMounts[0].mountPath = /var/run/cilium/envoy/sockets
doc[17].spec.template.spec.containers[0].volumeMounts[0].readOnly = false
doc[17].spec.template.spec.containers[0].volumeMounts[1].mountPath = /host/proc/sys/net
doc[17].spec.template.spec.containers[0].volumeMounts[1].name = host-proc-sys-net
doc[17].spec.template.spec.containers[0].volumeMounts[2].mountPath = /host/proc/sys/kernel
doc[17].spec.template.spec.containers[0].volumeMounts[2].name = host-proc-sys-kernel
doc[17].spec.template.spec.containers[0].volumeMounts[3].name = bpf-maps
doc[17].spec.template.spec.containers[0].volumeMounts[3].mountPath = /sys/fs/bpf
doc[17].spec.template.spec.containers[0].volumeMounts[3].mountPropagation = HostToContainer
doc[17].spec.template.spec.containers[0].volumeMounts[4].name = cilium-run
doc[17].spec.template.spec.containers[0].volumeMounts[4].mountPath = /var/run/cilium
doc[17].spec.template.spec.containers[0].volumeMounts[5].name = cilium-netns
doc[17].spec.template.spec.containers[0].volumeMounts[5].mountPath = /var/run/cilium/netns
doc[17].spec.template.spec.containers[0].volumeMounts[5].mountPropagation = HostToContainer
doc[17].spec.template.spec.containers[0].volumeMounts[6].name = etc-cni-netd
doc[17].spec.template.spec.containers[0].volumeMounts[6].mountPath = /host/etc/cni/net.d
doc[17].spec.template.spec.containers[0].volumeMounts[7].name = clustermesh-secrets
doc[17].spec.template.spec.containers[0].volumeMounts[7].mountPath = /var/lib/cilium/clustermesh
doc[17].spec.template.spec.containers[0].volumeMounts[7].readOnly = true
doc[17].spec.template.spec.containers[0].volumeMounts[8].name = lib-modules
doc[17].spec.template.spec.containers[0].volumeMounts[8].mountPath = /lib/modules
doc[17].spec.template.spec.containers[0].volumeMounts[8].readOnly = true
doc[17].spec.template.spec.containers[0].volumeMounts[9].name = xtables-lock
doc[17].spec.template.spec.containers[0].volumeMounts[9].mountPath = /run/xtables.lock
doc[17].spec.template.spec.containers[0].volumeMounts[10].name = tmp
doc[17].spec.template.spec.containers[0].volumeMounts[10].mountPath = /tmp
doc[17].spec.template.spec.initContainers[0].name = config
doc[17].spec.template.spec.initContainers[0].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[0].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[0].command[0] = cilium-dbg
doc[17].spec.template.spec.initContainers[0].command[1] = build-config
doc[17].spec.template.spec.initContainers[0].env[0].name = K8S_NODE_NAME
doc[17].spec.template.spec.initContainers[0].env[0].valueFrom.fieldRef.apiVersion = v1
doc[17].spec.template.spec.initContainers[0].env[0].valueFrom.fieldRef.fieldPath = spec.nodeName
doc[17].spec.template.spec.initContainers[0].env[1].name = CILIUM_K8S_NAMESPACE
doc[17].spec.template.spec.initContainers[0].env[1].valueFrom.fieldRef.apiVersion = v1
doc[17].spec.template.spec.initContainers[0].env[1].valueFrom.fieldRef.fieldPath = metadata.namespace
doc[17].spec.template.spec.initContainers[0].volumeMounts[0].name = tmp
doc[17].spec.template.spec.initContainers[0].volumeMounts[0].mountPath = /tmp
doc[17].spec.template.spec.initContainers[0].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[1].name = mount-cgroup
doc[17].spec.template.spec.initContainers[1].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[1].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[1].env[0].name = CGROUP_ROOT
doc[17].spec.template.spec.initContainers[1].env[0].value = /run/cilium/cgroupv2
doc[17].spec.template.spec.initContainers[1].env[1].name = BIN_PATH
doc[17].spec.template.spec.initContainers[1].env[1].value = /opt/cni/bin
doc[17].spec.template.spec.initContainers[1].command[0] = sh
doc[17].spec.template.spec.initContainers[1].command[1] = -ec
doc[17].spec.template.spec.initContainers[1].command[2] = cp /usr/bin/cilium-mount /hostbin/cilium-mount;
nsenter --cgroup=/hostproc/1/ns/cgroup --mount=/hostproc/1/ns/mnt "${BIN_PATH}/cilium-mount" $CGROUP_ROOT;
rm /hostbin/cilium-mount

doc[17].spec.template.spec.initContainers[1].volumeMounts[0].name = hostproc
doc[17].spec.template.spec.initContainers[1].volumeMounts[0].mountPath = /hostproc
doc[17].spec.template.spec.initContainers[1].volumeMounts[1].name = cni-path
doc[17].spec.template.spec.initContainers[1].volumeMounts[1].mountPath = /hostbin
doc[17].spec.template.spec.initContainers[1].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[1].securityContext.seLinuxOptions.level = s0
doc[17].spec.template.spec.initContainers[1].securityContext.seLinuxOptions.type = spc_t
doc[17].spec.template.spec.initContainers[1].securityContext.capabilities.add[0] = SYS_ADMIN
doc[17].spec.template.spec.initContainers[1].securityContext.capabilities.add[1] = SYS_CHROOT
doc[17].spec.template.spec.initContainers[1].securityContext.capabilities.add[2] = SYS_PTRACE
doc[17].spec.template.spec.initContainers[1].securityContext.capabilities.drop[0] = ALL
doc[17].spec.template.spec.initContainers[2].name = apply-sysctl-overwrites
doc[17].spec.template.spec.initContainers[2].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[2].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[2].env[0].name = BIN_PATH
doc[17].spec.template.spec.initContainers[2].env[0].value = /opt/cni/bin
doc[17].spec.template.spec.initContainers[2].command[0] = sh
doc[17].spec.template.spec.initContainers[2].command[1] = -ec
doc[17].spec.template.spec.initContainers[2].command[2] = cp /usr/bin/cilium-sysctlfix /hostbin/cilium-sysctlfix;
nsenter --mount=/hostproc/1/ns/mnt "${BIN_PATH}/cilium-sysctlfix";
rm /hostbin/cilium-sysctlfix

doc[17].spec.template.spec.initContainers[2].volumeMounts[0].name = hostproc
doc[17].spec.template.spec.initContainers[2].volumeMounts[0].mountPath = /hostproc
doc[17].spec.template.spec.initContainers[2].volumeMounts[1].name = cni-path
doc[17].spec.template.spec.initContainers[2].volumeMounts[1].mountPath = /hostbin
doc[17].spec.template.spec.initContainers[2].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[2].securityContext.seLinuxOptions.level = s0
doc[17].spec.template.spec.initContainers[2].securityContext.seLinuxOptions.type = spc_t
doc[17].spec.template.spec.initContainers[2].securityContext.capabilities.add[0] = SYS_ADMIN
doc[17].spec.template.spec.initContainers[2].securityContext.capabilities.add[1] = SYS_CHROOT
doc[17].spec.template.spec.initContainers[2].securityContext.capabilities.add[2] = SYS_PTRACE
doc[17].spec.template.spec.initContainers[2].securityContext.capabilities.drop[0] = ALL
doc[17].spec.template.spec.initContainers[3].name = mount-bpf-fs
doc[17].spec.template.spec.initContainers[3].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[3].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[3].args[0] = mount | grep "/sys/fs/bpf type bpf" || mount -t bpf bpf /sys/fs/bpf
doc[17].spec.template.spec.initContainers[3].command[0] = /bin/bash
doc[17].spec.template.spec.initContainers[3].command[1] = -c
doc[17].spec.template.spec.initContainers[3].command[2] = --
doc[17].spec.template.spec.initContainers[3].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[3].securityContext.privileged = true
doc[17].spec.template.spec.initContainers[3].volumeMounts[0].name = bpf-maps
doc[17].spec.template.spec.initContainers[3].volumeMounts[0].mountPath = /sys/fs/bpf
doc[17].spec.template.spec.initContainers[3].volumeMounts[0].mountPropagation = Bidirectional
doc[17].spec.template.spec.initContainers[4].name = clean-cilium-state
doc[17].spec.template.spec.initContainers[4].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[4].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[4].command[0] = /init-container.sh
doc[17].spec.template.spec.initContainers[4].env[0].name = CILIUM_ALL_STATE
doc[17].spec.template.spec.initContainers[4].env[0].valueFrom.configMapKeyRef.name = cilium-config
doc[17].spec.template.spec.initContainers[4].env[0].valueFrom.configMapKeyRef.key = clean-cilium-state
doc[17].spec.template.spec.initContainers[4].env[0].valueFrom.configMapKeyRef.optional = true
doc[17].spec.template.spec.initContainers[4].env[1].name = CILIUM_BPF_STATE
doc[17].spec.template.spec.initContainers[4].env[1].valueFrom.configMapKeyRef.name = cilium-config
doc[17].spec.template.spec.initContainers[4].env[1].valueFrom.configMapKeyRef.key = clean-cilium-bpf-state
doc[17].spec.template.spec.initContainers[4].env[1].valueFrom.configMapKeyRef.optional = true
doc[17].spec.template.spec.initContainers[4].env[2].name = WRITE_CNI_CONF_WHEN_READY
doc[17].spec.template.spec.initContainers[4].env[2].valueFrom.configMapKeyRef.name = cilium-config
doc[17].spec.template.spec.initContainers[4].env[2].valueFrom.configMapKeyRef.key = write-cni-conf-when-ready
doc[17].spec.template.spec.initContainers[4].env[2].valueFrom.configMapKeyRef.optional = true
doc[17].spec.template.spec.initContainers[4].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[4].securityContext.seLinuxOptions.level = s0
doc[17].spec.template.spec.initContainers[4].securityContext.seLinuxOptions.type = spc_t
doc[17].spec.template.spec.initContainers[4].securityContext.capabilities.add[0] = NET_ADMIN
doc[17].spec.template.spec.initContainers[4].securityContext.capabilities.add[1] = SYS_MODULE
doc[17].spec.template.spec.initContainers[4].securityContext.capabilities.add[2] = SYS_ADMIN
doc[17].spec.template.spec.initContainers[4].securityContext.capabilities.add[3] = SYS_RESOURCE
doc[17].spec.template.spec.initContainers[4].securityContext.capabilities.drop[0] = ALL
doc[17].spec.template.spec.initContainers[4].volumeMounts[0].name = bpf-maps
doc[17].spec.template.spec.initContainers[4].volumeMounts[0].mountPath = /sys/fs/bpf
doc[17].spec.template.spec.initContainers[4].volumeMounts[1].name = cilium-cgroup
doc[17].spec.template.spec.initContainers[4].volumeMounts[1].mountPath = /run/cilium/cgroupv2
doc[17].spec.template.spec.initContainers[4].volumeMounts[1].mountPropagation = HostToContainer
doc[17].spec.template.spec.initContainers[4].volumeMounts[2].name = cilium-run
doc[17].spec.template.spec.initContainers[4].volumeMounts[2].mountPath = /var/run/cilium
doc[17].spec.template.spec.initContainers[5].name = install-cni-binaries
doc[17].spec.template.spec.initContainers[5].image = quay.io/cilium/cilium:v1.18.6@sha256:42ec562a5ff6c8a860c0639f5a7611685e253fd9eb2d2fcdade693724c9166a4
doc[17].spec.template.spec.initContainers[5].imagePullPolicy = IfNotPresent
doc[17].spec.template.spec.initContainers[5].command[0] = /install-plugin.sh
doc[17].spec.template.spec.initContainers[5].resources.requests.cpu = 100m
doc[17].spec.template.spec.initContainers[5].resources.requests.memory = 10Mi
doc[17].spec.template.spec.initContainers[5].securityContext.seLinuxOptions.level = s0
doc[17].spec.template.spec.initContainers[5].securityContext.seLinuxOptions.type = spc_t
doc[17].spec.template.spec.initContainers[5].securityContext.capabilities.drop[0] = ALL
doc[17].spec.template.spec.initContainers[5].terminationMessagePolicy = FallbackToLogsOnError
doc[17].spec.template.spec.initContainers[5].volumeMounts[0].name = cni-path
doc[17].spec.template.spec.initContainers[5].volumeMounts[0].mountPath = /host/opt/cni/bin
doc[17].spec.template.spec.restartPolicy = Always
doc[17].spec.template.spec.priorityClassName = system-node-critical
doc[17].spec.template.spec.serviceAccountName = cilium
doc[17].spec.template.spec.automountServiceAccountToken = true
doc[17].spec.template.spec.terminationGracePeriodSeconds = 1
doc[17].spec.template.spec.hostNetwork = true
doc[17].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchLabels.k8s-app = cilium
doc[17].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey = kubernetes.io/hostname
doc[17].spec.template.spec.nodeSelector["kubernetes.io/os"] = linux
doc[17].spec.template.spec.tolerations[0].operator = Exists
doc[17].spec.template.spec.volumes[0].name = tmp
doc[17].spec.template.spec.volumes[1].name = cilium-run
doc[17].spec.template.spec.volumes[1].hostPath.path = /var/run/cilium
doc[17].spec.template.spec.volumes[1].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[2].name = cilium-netns
doc[17].spec.template.spec.volumes[2].hostPath.path = /var/run/netns
doc[17].spec.template.spec.volumes[2].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[3].name = bpf-maps
doc[17].spec.template.spec.volumes[3].hostPath.path = /sys/fs/bpf
doc[17].spec.template.spec.volumes[3].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[4].name = hostproc
doc[17].spec.template.spec.volumes[4].hostPath.path = /proc
doc[17].spec.template.spec.volumes[4].hostPath.type = Directory
doc[17].spec.template.spec.volumes[5].name = cilium-cgroup
doc[17].spec.template.spec.volumes[5].hostPath.path = /run/cilium/cgroupv2
doc[17].spec.template.spec.volumes[5].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[6].name = cni-path
doc[17].spec.template.spec.volumes[6].hostPath.path = /opt/cni/bin
doc[17].spec.template.spec.volumes[6].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[7].name = etc-cni-netd
doc[17].spec.template.spec.volumes[7].hostPath.path = /etc/cni/net.d
doc[17].spec.template.spec.volumes[7].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[8].name = lib-modules
doc[17].spec.template.spec.volumes[8].hostPath.path = /lib/modules
doc[17].spec.template.spec.volumes[9].name = xtables-lock
doc[17].spec.template.spec.volumes[9].hostPath.path = /run/xtables.lock
doc[17].spec.template.spec.volumes[9].hostPath.type = FileOrCreate
doc[17].spec.template.spec.volumes[10].name = envoy-sockets
doc[17].spec.template.spec.volumes[10].hostPath.path = /var/run/cilium/envoy/sockets
doc[17].spec.template.spec.volumes[10].hostPath.type = DirectoryOrCreate
doc[17].spec.template.spec.volumes[11].name = clustermesh-secrets
doc[17].spec.template.spec.volumes[11].projected.defaultMode = 0400
doc[17].spec.template.spec.volumes[11].projected.sources[0].secret.name = cilium-clustermesh
doc[17].spec.template.spec.volumes[11].projected.sources[0].secret.optional = true
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.name = clustermesh-apiserver-remote-cert
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.optional = true
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[0].key = tls.key
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[0].path = common-etcd-client.key
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[1].key = tls.crt
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[1].path = common-etcd-client.crt
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[2].key = ca.crt
doc[17].spec.template.spec.volumes[11].projected.sources[1].secret.items[2].path = common-etcd-client-ca.crt
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.name = clustermesh-apiserver-local-cert
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.optional = true
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[0].key = tls.key
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[0].path = local-etcd-client.key
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[1].key = tls.crt
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[1].path = local-etcd-client.crt
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[2].key = ca.crt
doc[17].spec.template.spec.volumes[11].projected.sources[2].secret.items[2].path = local-etcd-client-ca.crt
doc[17].spec.template.spec.volumes[12].name = host-proc-sys-net
doc[17].spec.template.spec.volumes[12].hostPath.path = /proc/sys/net
doc[17].spec.template.spec.volumes[12].hostPath.type = Directory
doc[17].spec.template.spec.volumes[13].name = host-proc-sys-kernel
doc[17].spec.template.spec.volumes[13].hostPath.path = /proc/sys/kernel
doc[17].spec.template.spec.volumes[13].hostPath.type = Directory
doc[18].apiVersion = apps/v1
doc[18].kind = DaemonSet
doc[18].metadata.name = cilium-envoy
doc[18].metadata.namespace = kube-system
doc[18].metadata.labels.k8s-app = cilium-envoy
doc[18].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[18].metadata.labels["app.kubernetes.io/name"] = cilium-envoy
doc[18].metadata.labels.name = cilium-envoy
doc[18].spec.selector.matchLabels.k8s-app = cilium-envoy
doc[18].spec.updateStrategy.rollingUpdate.maxUnavailable = 2
doc[18].spec.updateStrategy.type = RollingUpdate
doc[18].spec.template.metadata.annotations = null
doc[18].spec.template.metadata.labels.k8s-app = cilium-envoy
doc[18].spec.template.metadata.labels.name = cilium-envoy
doc[18].spec.template.metadata.labels["app.kubernetes.io/name"] = cilium-envoy
doc[18].spec.template.metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[18].spec.template.spec.securityContext.appArmorProfile.type = Unconfined
doc[18].spec.template.spec.containers[0].name = cilium-envoy
doc[18].spec.template.spec.containers[0].image = quay.io/cilium/cilium-envoy:v1.35.9-1767794330-db497dd19e346b39d81d7b5c0dedf6c812bcc5c9@sha256:81398e449f2d3d0a6a70527e4f641aaa685d3156bea0bb30712fae3fd8822b86
doc[18].spec.template.spec.containers[0].imagePullPolicy = IfNotPresent
doc[18].spec.template.spec.containers[0].command[0] = /usr/bin/cilium-envoy-starter
doc[18].spec.template.spec.containers[0].args[0] = --
doc[18].spec.template.spec.containers[0].args[1] = -c /var/run/cilium/envoy/bootstrap-config.json
doc[18].spec.template.spec.containers[0].args[2] = --base-id 0
doc[18].spec.template.spec.containers[0].args[3] = --log-level info
doc[18].spec.template.spec.containers[0].startupProbe.httpGet.host = 127.0.0.1
doc[18].spec.template.spec.containers[0].startupProbe.httpGet.path = /healthz
doc[18].spec.template.spec.containers[0].startupProbe.httpGet.port = 9878
doc[18].spec.template.spec.containers[0].startupProbe.httpGet.scheme = HTTP
doc[18].spec.template.spec.containers[0].startupProbe.failureThreshold = 105
doc[18].spec.template.spec.containers[0].startupProbe.periodSeconds = 2
doc[18].spec.template.spec.containers[0].startupProbe.successThreshold = 1
doc[18].spec.template.spec.containers[0].startupProbe.initialDelaySeconds = 5
doc[18].spec.template.spec.containers[0].livenessProbe.httpGet.host = 127.0.0.1
doc[18].spec.template.spec.containers[0].livenessProbe.httpGet.path = /healthz
doc[18].spec.template.spec.containers[0].livenessProbe.httpGet.port = 9878
doc[18].spec.template.spec.containers[0].livenessProbe.httpGet.scheme = HTTP
doc[18].spec.template.spec.containers[0].livenessProbe.periodSeconds = 30
doc[18].spec.template.spec.containers[0].livenessProbe.successThreshold = 1
doc[18].spec.template.spec.containers[0].livenessProbe.failureThreshold = 10
doc[18].spec.template.spec.containers[0].livenessProbe.timeoutSeconds = 5
doc[18].spec.template.spec.containers[0].readinessProbe.httpGet.host = 127.0.0.1
doc[18].spec.template.spec.containers[0].readinessProbe.httpGet.path = /healthz
doc[18].spec.template.spec.containers[0].readinessProbe.httpGet.port = 9878
doc[18].spec.template.spec.containers[0].readinessProbe.httpGet.scheme = HTTP
doc[18].spec.template.spec.containers[0].readinessProbe.periodSeconds = 30
doc[18].spec.template.spec.containers[0].readinessProbe.successThreshold = 1
doc[18].spec.template.spec.containers[0].readinessProbe.failureThreshold = 3
doc[18].spec.template.spec.containers[0].readinessProbe.timeoutSeconds = 5
doc[18].spec.template.spec.containers[0].env[0].name = K8S_NODE_NAME
doc[18].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.apiVersion = v1
doc[18].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.fieldPath = spec.nodeName
doc[18].spec.template.spec.containers[0].env[1].name = CILIUM_K8S_NAMESPACE
doc[18].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.apiVersion = v1
doc[18].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.fieldPath = metadata.namespace
doc[18].spec.template.spec.containers[0].ports[0].name = envoy-metrics
doc[18].spec.template.spec.containers[0].ports[0].containerPort = 9964
doc[18].spec.template.spec.containers[0].ports[0].hostPort = 9964
doc[18].spec.template.spec.containers[0].ports[0].protocol = TCP
doc[18].spec.template.spec.containers[0].securityContext.seLinuxOptions.level = s0
doc[18].spec.template.spec.containers[0].securityContext.seLinuxOptions.type = spc_t
doc[18].spec.template.spec.containers[0].securityContext.capabilities.add[0] = NET_ADMIN
doc[18].spec.template.spec.containers[0].securityContext.capabilities.add[1] = SYS_ADMIN
doc[18].spec.template.spec.containers[0].securityContext.capabilities.drop[0] = ALL
doc[18].spec.template.spec.containers[0].terminationMessagePolicy = FallbackToLogsOnError
doc[18].spec.template.spec.containers[0].volumeMounts[0].name = envoy-sockets
doc[18].spec.template.spec.containers[0].volumeMounts[0].mountPath = /var/run/cilium/envoy/sockets
doc[18].spec.template.spec.containers[0].volumeMounts[0].readOnly = false
doc[18].spec.template.spec.containers[0].volumeMounts[1].name = envoy-artifacts
doc[18].spec.template.spec.containers[0].volumeMounts[1].mountPath = /var/run/cilium/envoy/artifacts
doc[18].spec.template.spec.containers[0].volumeMounts[1].readOnly = true
doc[18].spec.template.spec.containers[0].volumeMounts[2].name = envoy-config
doc[18].spec.template.spec.containers[0].volumeMounts[2].mountPath = /var/run/cilium/envoy/
doc[18].spec.template.spec.containers[0].volumeMounts[2].readOnly = true
doc[18].spec.template.spec.containers[0].volumeMounts[3].name = bpf-maps
doc[18].spec.template.spec.containers[0].volumeMounts[3].mountPath = /sys/fs/bpf
doc[18].spec.template.spec.containers[0].volumeMounts[3].mountPropagation = HostToContainer
doc[18].spec.template.spec.restartPolicy = Always
doc[18].spec.template.spec.priorityClassName = system-node-critical
doc[18].spec.template.spec.serviceAccountName = cilium-envoy
doc[18].spec.template.spec.automountServiceAccountToken = true
doc[18].spec.template.spec.terminationGracePeriodSeconds = 1
doc[18].spec.template.spec.hostNetwork = true
doc[18].spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[0].matchExpressions[0].key = cilium.io/no-schedule
doc[18].spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[0].matchExpressions[0].operator = NotIn
doc[18].spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms[0].matchExpressions[0].values[0] = true
doc[18].spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchLabels.k8s-app = cilium
doc[18].spec.template.spec.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey = kubernetes.io/hostname
doc[18].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchLabels.k8s-app = cilium-envoy
doc[18].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey = kubernetes.io/hostname
doc[18].spec.template.spec.nodeSelector["kubernetes.io/os"] = linux
doc[18].spec.template.spec.tolerations[0].operator = Exists
doc[18].spec.template.spec.volumes[0].name = envoy-sockets
doc[18].spec.template.spec.volumes[0].hostPath.path = /var/run/cilium/envoy/sockets
doc[18].spec.template.spec.volumes[0].hostPath.type = DirectoryOrCreate
doc[18].spec.template.spec.volumes[1].name = envoy-artifacts
doc[18].spec.template.spec.volumes[1].hostPath.path = /var/run/cilium/envoy/artifacts
doc[18].spec.template.spec.volumes[1].hostPath.type = DirectoryOrCreate
doc[18].spec.template.spec.volumes[2].name = envoy-config
doc[18].spec.template.spec.volumes[2].configMap.name = cilium-envoy-config
doc[18].spec.template.spec.volumes[2].configMap.defaultMode = 0400
doc[18].spec.template.spec.volumes[2].configMap.items[0].key = bootstrap-config.json
doc[18].spec.template.spec.volumes[2].configMap.items[0].path = bootstrap-config.json
doc[18].spec.template.spec.volumes[3].name = bpf-maps
doc[18].spec.template.spec.volumes[3].hostPath.path = /sys/fs/bpf
doc[18].spec.template.spec.volumes[3].hostPath.type = DirectoryOrCreate
doc[19].apiVersion = apps/v1
doc[19].kind = Deployment
doc[19].metadata.name = cilium-operator
doc[19].metadata.namespace = kube-system
doc[19].metadata.labels["io.cilium/app"] = operator
doc[19].metadata.labels.name = cilium-operator
doc[19].metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[19].metadata.labels["app.kubernetes.io/name"] = cilium-operator
doc[19].spec.replicas = 2
doc[19].spec.selector.matchLabels["io.cilium/app"] = operator
doc[19].spec.selector.matchLabels.name = cilium-operator
doc[19].spec.strategy.rollingUpdate.maxSurge = 25%
doc[19].spec.strategy.rollingUpdate.maxUnavailable = 50%
doc[19].spec.strategy.type = RollingUpdate
doc[19].spec.template.metadata.annotations["prometheus.io/port"] = 9963
doc[19].spec.template.metadata.annotations["prometheus.io/scrape"] = true
doc[19].spec.template.metadata.labels["io.cilium/app"] = operator
doc[19].spec.template.metadata.labels.name = cilium-operator
doc[19].spec.template.metadata.labels["app.kubernetes.io/part-of"] = cilium
doc[19].spec.template.metadata.labels["app.kubernetes.io/name"] = cilium-operator
doc[19].spec.template.spec.securityContext.seccompProfile.type = RuntimeDefault
doc[19].spec.template.spec.containers[0].name = cilium-operator
doc[19].spec.template.spec.containers[0].image = quay.io/cilium/operator-generic:v1.18.6@sha256:34a827ce9ed021c8adf8f0feca131f53b3c54a3ef529053d871d0347ec4d69af
doc[19].spec.template.spec.containers[0].imagePullPolicy = IfNotPresent
doc[19].spec.template.spec.containers[0].command[0] = cilium-operator-generic
doc[19].spec.template.spec.containers[0].args[0] = --config-dir=/tmp/cilium/config-map
doc[19].spec.template.spec.containers[0].args[1] = --debug=$(CILIUM_DEBUG)
doc[19].spec.template.spec.containers[0].env[0].name = K8S_NODE_NAME
doc[19].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.apiVersion = v1
doc[19].spec.template.spec.containers[0].env[0].valueFrom.fieldRef.fieldPath = spec.nodeName
doc[19].spec.template.spec.containers[0].env[1].name = CILIUM_K8S_NAMESPACE
doc[19].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.apiVersion = v1
doc[19].spec.template.spec.containers[0].env[1].valueFrom.fieldRef.fieldPath = metadata.namespace
doc[19].spec.template.spec.containers[0].env[2].name = CILIUM_DEBUG
doc[19].spec.template.spec.containers[0].env[2].valueFrom.configMapKeyRef.key = debug
doc[19].spec.template.spec.containers[0].env[2].valueFrom.configMapKeyRef.name = cilium-config
doc[19].spec.template.spec.containers[0].env[2].valueFrom.configMapKeyRef.optional = true
doc[19].spec.template.spec.containers[0].ports[0].name = prometheus
doc[19].spec.template.spec.containers[0].ports[0].containerPort = 9963
doc[19].spec.template.spec.containers[0].ports[0].hostPort = 9963
doc[19].spec.template.spec.containers[0].ports[0].protocol = TCP
doc[19].spec.template.spec.containers[0].livenessProbe.httpGet.host = 127.0.0.1
doc[19].spec.template.spec.containers[0].livenessProbe.httpGet.path = /healthz
doc[19].spec.template.spec.containers[0].livenessProbe.httpGet.port = 9234
doc[19].spec.template.spec.containers[0].livenessProbe.httpGet.scheme = HTTP
doc[19].spec.template.spec.containers[0].livenessProbe.initialDelaySeconds = 60
doc[19].spec.template.spec.containers[0].livenessProbe.periodSeconds = 10
doc[19].spec.template.spec.containers[0].livenessProbe.timeoutSeconds = 3
doc[19].spec.template.spec.containers[0].readinessProbe.httpGet.host = 127.0.0.1
doc[19].spec.template.spec.containers[0].readinessProbe.httpGet.path = /healthz
doc[19].spec.template.spec.containers[0].readinessProbe.httpGet.port = 9234
doc[19].spec.template.spec.containers[0].readinessProbe.httpGet.scheme = HTTP
doc[19].spec.template.spec.containers[0].readinessProbe.initialDelaySeconds = 0
doc[19].spec.template.spec.containers[0].readinessProbe.periodSeconds = 5
doc[19].spec.template.spec.containers[0].readinessProbe.timeoutSeconds = 3
doc[19].spec.template.spec.containers[0].readinessProbe.failureThreshold = 5
doc[19].spec.template.spec.containers[0].volumeMounts[0].name = cilium-config-path
doc[19].spec.template.spec.containers[0].volumeMounts[0].mountPath = /tmp/cilium/config-map
doc[19].spec.template.spec.containers[0].volumeMounts[0].readOnly = true
doc[19].spec.template.spec.containers[0].securityContext.allowPrivilegeEscalation = false
doc[19].spec.template.spec.containers[0].securityContext.capabilities.drop[0] = ALL
doc[19].spec.template.spec.containers[0].terminationMessagePolicy = FallbackToLogsOnError
doc[19].spec.template.spec.hostNetwork = true
doc[19].spec.template.spec.restartPolicy = Always
doc[19].spec.template.spec.priorityClassName = system-cluster-critical
doc[19].spec.template.spec.serviceAccountName = cilium-operator
doc[19].spec.template.spec.automountServiceAccountToken = true
doc[19].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchLabels["io.cilium/app"] = operator
doc[19].spec.template.spec.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].topologyKey = kubernetes.io/hostname
doc[19].spec.template.spec.nodeSelector["kubernetes.io/os"] = linux
doc[19].spec.template.spec.tolerations[0].key = node-role.kubernetes.io/control-plane
doc[19].spec.template.spec.tolerations[0].operator = Exists
doc[19].spec.template.spec.tolerations[1].key = node-role.kubernetes.io/master
doc[19].spec.template.spec.tolerations[1].operator = Exists
doc[19].spec.template.spec.tolerations[2].key = node.kubernetes.io/not-ready
doc[19].spec.template.spec.tolerations[2].operator = Exists
doc[19].spec.template.spec.tolerations[3].key = node.cloudprovider.kubernetes.io/uninitialized
doc[19].spec.template.spec.tolerations[3].operator = Exists
doc[19].spec.template.spec.tolerations[4].key = node.cilium.io/agent-not-ready
doc[19].spec.template.spec.tolerations[4].operator = Exists
doc[19].spec.template.spec.volumes[0].name = cilium-config-path
doc[19].spec.template.spec.volumes[0].configMap.name = cilium-config
