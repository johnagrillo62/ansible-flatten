[0].name = Import DebOps global handlers
[0]["ansible.builtin.import_role"].name = global_handlers
[1].name = Install required packages
[1]["ansible.builtin.package"].name = {{ q("flattened", (ansible__base_packages
                              + ansible__packages)) }}
[1]["ansible.builtin.package"].state = present
[1].register = ansible__register_packages
[1].until = ansible__register_packages is succeeded
[2].name = Bootstrap Ansible from source
[2]["ansible.builtin.script"] = script/bootstrap-ansible "{{ ansible__bootstrap_version }}"
[2].when = (ansible__deploy_type == 'bootstrap' and (ansible_local is undefined or (ansible_local.ansible is undefined or not (ansible_local.ansible.installed | d()) | bool or (ansible_local.ansible.deploy_type | d(ansible__deploy_type) != 'bootstrap'))))
[3].name = Make sure that Ansible local fact directory exists
[3]["ansible.builtin.file"].path = /etc/ansible/facts.d
[3]["ansible.builtin.file"].state = directory
[3]["ansible.builtin.file"].owner = root
[3]["ansible.builtin.file"].group = root
[3]["ansible.builtin.file"].mode = 0755
[4].name = Save Ansible local facts
[4]["ansible.builtin.template"].src = etc/ansible/facts.d/ansible.fact.j2
[4]["ansible.builtin.template"].dest = /etc/ansible/facts.d/ansible.fact
[4]["ansible.builtin.template"].owner = root
[4]["ansible.builtin.template"].group = root
[4]["ansible.builtin.template"].mode = 0755
[4].notify[0] = Refresh host facts
[4].tags[0] = meta::facts
[5].name = Re-read local facts if they have been modified
[5]["ansible.builtin.meta"] = flush_handlers
