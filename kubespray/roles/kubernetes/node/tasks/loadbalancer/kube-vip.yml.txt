~d0.name = Kube-vip  | Check cluster settings for kube-vip
~d1.fail = 
~d2.msg = "kube-vip require kube_proxy_strict_arp = true, see https://github.com/kube-vip/kube-vip/blob/main/docs/kubernetes/arp/index.md"
~d1.when = 
~d0.name = Kube-vip | Check if super-admin.conf exists
~d1.stat = 
~d2.path = "{{ kube_config_dir }}/super-admin.conf"
~d1.failed_when = false
~d1.changed_when = false
~d1.register = stat_kube_vip_super_admin
~d0.name = Kube-vip | Check if kubeadm has already run
~d1.stat = 
~d2.path = "/var/lib/kubelet/config.yaml"
~d2.get_attributes = false
~d2.get_checksum = false
~d2.get_mime = false
~d1.register = kubeadm_already_run
~d0.name = Kube-vip | Set admin.conf
~d1.set_fact = 
~d2.kube_vip_admin_conf = admin.conf
~d0.name = Kube-vip | Set admin.conf for first Control Plane
~d1.set_fact = 
~d2.kube_vip_admin_conf = super-admin.conf
~d1.when = 
~d0.name = Kube-vip | Write static pod
~d1.template = 
~d2.src = manifests/kube-vip.manifest.j2
~d2.dest = "{{ kube_manifest_dir }}/kube-vip.yml"
~d2.mode = "0640"
