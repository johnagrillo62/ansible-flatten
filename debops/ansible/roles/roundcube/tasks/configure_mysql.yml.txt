~d0.name = Create Roundcube MySQL/MariaDB database
~d1.community.mysql.mysql_db = 
~d2.name = '{{ roundcube__database_map[roundcube__database].dbname }}'
~d2.state = 'present'
~d2.login_unix_socket = '/run/mysqld/mysqld.sock'
~d1.delegate_to = '{{ ansible_local.mariadb.delegate_to }}'
~d1.register = roundcube__register_database_status
~d0.name = Import initial database schema
~d1.community.mysql.mysql_db = # noqa no-handler
~d2.name = '{{ roundcube__database_map[roundcube__database].dbname }}'
~d2.state = import
~d2.target = '{{ roundcube__database_schema }}'
~d2.login_user = '{{ roundcube__database_map[roundcube__database].dbuser }}'
~d2.login_password = '{{ roundcube__database_map[roundcube__database].dbpass }}'
~d2.login_host = '{{ ansible_local.mariadb.server }}'
~d2.login_unix_socket = '/run/mysqld/mysqld.sock'
~d1.when = (roundcube__register_database_status | d() is defined and roundcube__register_database_status is changed)
~d1.no_log = '{{ debops__no_log | d(True) }}'
