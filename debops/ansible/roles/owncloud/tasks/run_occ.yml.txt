~d0.name = Construct occ command for ownCloud apps configuration
~d1.ansible.builtin.set_fact = 
~d2.owncloud__occ_item = 
~d3.command = 'config:app:set {{ owncloud__apps_item.key | quote }} {{ owncloud__apps_setting_item.key | quote }}
~d1.when = (owncloud__apps_setting_item is defined)
~d1.tags = [ 'role::owncloud:occ' ]
~d0.name = 'Construct occ command for ownCloud files:scan configuration'
~d1.ansible.builtin.set_fact = 
~d2.owncloud__occ_item = 
~d3.command = 'files:scan --path {{ owncloud__files_scan_item.item.dest | quote }}'
~d1.when = (owncloud__files_scan_item is defined)
~d1.tags = [ 'role::owncloud:occ' ]
~d0.name = Run given occ commands
~d1.ansible.builtin.command = php --file "{{ owncloud__app_home }}/occ" {{ owncloud__occ_item.command }}
~d1.environment = '{{ owncloud__occ_item.env | d({}) }}'
~d1.tags = [ 'role::owncloud:occ' ]
~d1.changed_when = False
~d1.failed_when = ((owncloud__occ_run.rc != 0 and 'already exists' not in owncloud__occ_run.stdout and
~d8.('An unhandled exception has been thrown = ' in owncloud__occ_run.stdout))
~d1.no_log = '{{ debops__no_log | d(True) }}'
~d1.register = owncloud__occ_run
~d1.become = True
~d1.become_user = '{{ owncloud__app_user }}'
~d1.when = (owncloud__do_autosetup | d() | bool and
~d0.name = Convert occ output into Ansible data structure
~d1.ansible.builtin.set_fact = 
~d2.owncloud__occ_run_output = '{{ owncloud__occ_run.stdout_lines
~d1.when = (owncloud__do_autosetup | d() | bool and owncloud__occ_item | d() and (owncloud__occ_item.get_output | d() | bool) and (not ansible_check_mode))
~d1.tags = [ 'role::owncloud:occ_config', 'role::owncloud:occ' ]
