[0].name = Import custom Ansible plugins
[0]["ansible.builtin.import_role"].name = ansible_plugins
[1].name = Import DebOps global handlers
[1]["ansible.builtin.import_role"].name = global_handlers
[2].name = Install Libuser requested packages
[2]["ansible.builtin.package"].name = {{ q("flattened", libuser__base_packages
                             + libuser__packages) }}
[2]["ansible.builtin.package"].state = present
[2].register = libuser__register_packages
[2].until = libuser__register_packages is succeeded
[2].when = libuser__enabled | bool
[3].name = Divert the original libuser configuration file
[3]["debops.debops.dpkg_divert"].path = /etc/libuser.conf
[3].when = libuser__enabled | bool
[4].name = Configure main libuser config file
[4]["ansible.builtin.template"].src = etc/libuser.conf.j2
[4]["ansible.builtin.template"].dest = /etc/libuser.conf
[4]["ansible.builtin.template"].mode = 0644
[4].when = libuser__enabled | bool
[5].name = Make sure that local fact directory exists
[5]["ansible.builtin.file"].dest = /etc/ansible/facts.d
[5]["ansible.builtin.file"].state = directory
[5]["ansible.builtin.file"].mode = 0755
[6].name = Save Libuser local facts
[6]["ansible.builtin.template"].src = etc/ansible/facts.d/libuser.fact.j2
[6]["ansible.builtin.template"].dest = /etc/ansible/facts.d/libuser.fact
[6]["ansible.builtin.template"].mode = 0755
[6].notify[0] = Refresh host facts
[6].tags[0] = meta::facts
[7].name = Re-read local facts if they have been modified
[7]["ansible.builtin.meta"] = flush_handlers
