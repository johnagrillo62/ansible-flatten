[0].name = Generate a random string for test
[0].set_fact.test_id = {{ lookup('password', '/dev/null chars=ascii_letters length=16') }}
[0].when = test_id is not defined
[1].name = Generate names
[1].set_fact.project_name1 = AWX-Collection-tests-project_update-project-{{ test_id }}
[2].name = Create a git project without credentials without waiting
[2].project.name = {{ project_name1 }}
[2].project.organization = Default
[2].project.scm_type = git
[2].project.scm_url = https://github.com/ansible/ansible-tower-samples
[2].project.wait = false
[2].register = project_create_result
[3].assert.that[0] = project_create_result is changed
[4].name = Update a project without waiting
[4].project_update.name = {{ project_name1 }}
[4].project_update.organization = Default
[4].project_update.wait = false
[4].register = result
[5].assert.that[0] = result is changed
[6].name = Update a project and wait
[6].project_update.name = {{ project_name1 }}
[6].project_update.organization = Default
[6].project_update.wait = true
[6].register = result
[7].assert.that[0] = result is successful
[8].name = Update a project by ID
[8].project_update.name = {{ project_create_result.id }}
[8].project_update.organization = Default
[8].project_update.wait = true
[8].register = result
[9].assert.that[0] = result is successful
[9].assert.that[1] = result is not changed
[10].name = Delete the test project 1
[10].project.name = {{ project_name1 }}
[10].project.organization = Default
[10].project.state = absent
[10].register = result
[10].until = result is changed
[10].retries = 6
[10].delay = 5
[11].assert.that[0] = result is changed
