reprepro__base_packages[0] = reprepro
reprepro__base_packages[1] = dpkg-dev
reprepro__user = reprepro
reprepro__group = reprepro
reprepro__additional_groups[0] = {{ ansible_local.system_groups.local_prefix + "sshusers" }}
reprepro__home = {{ (ansible_local.fhs.home | d("/var/local"))
                    + "/" + reprepro__user }}
reprepro__comment = Local APT repositories
reprepro__data_root = {{ reprepro__home + "/repositories" }}
reprepro__public_root = {{ (ansible_local.fhs.www | d("/srv/www"))
                           + "/reprepro" }}
reprepro__spool_root = {{ (ansible_local.fhs.spool | d("/var/spool"))
                          + "/reprepro" }}
reprepro__admin_sshkeys[0] = {{ lookup("pipe", "ssh-add -L | grep ^\\\(sk-\\\)\\\?ssh || cat ~/.ssh/*.pub || cat ~/.ssh/authorized_keys || true") }}
reprepro__fqdn = {{ ansible_fqdn }}
reprepro__domain = {{ ansible_domain }}
reprepro__origin = {{ ansible_local.machine.organization
                      | d(reprepro__domain.split(".")[0] | capitalize) }}
reprepro__mail_from = {{ reprepro__user + "@" + reprepro__fqdn }}
reprepro__mail_to = {{ "root@" + reprepro__domain }}
reprepro__max_body_size = 50M
reprepro__auth_realm = Access to this APT repository is restricted
reprepro__gpg_snapshot_name = gnupg.tar
reprepro__gpg_snapshot_path = {{ secret + "/reprepro/snapshots/" + inventory_hostname }}
reprepro__gpg_key_type = RSA
reprepro__gpg_key_length = 4096
reprepro__gpg_name = {{ reprepro__origin + " Automatic Signing Key" }}
reprepro__gpg_email = {{ "apt-packages@" + reprepro__domain }}
reprepro__gpg_expire_days = {{ (365 * 10) }}
reprepro__gpg_public_filename = {{ reprepro__domain + ".asc" }}
reprepro__default_instances[0].name = main
reprepro__default_instances[0].fqdn = {{ reprepro__fqdn }}
reprepro__default_instances[0].incoming[0].name = incoming
reprepro__default_instances[0].incoming[0].Allow[0] = forky
reprepro__default_instances[0].incoming[0].Allow[1] = testing>forky
reprepro__default_instances[0].incoming[0].Allow[2] = trixie
reprepro__default_instances[0].incoming[0].Allow[3] = stable>trixie
reprepro__default_instances[0].incoming[0].Allow[4] = bookworm
reprepro__default_instances[0].incoming[0].Allow[5] = oldstable>bookworm
reprepro__default_instances[0].incoming[0].Allow[6] = bullseye
reprepro__default_instances[0].incoming[0].Allow[7] = oldoldstable>bullseye
reprepro__default_instances[0].incoming[0].Options[0] = multiple_distributions
reprepro__default_instances[0].incoming[0].Cleanup[0] = on_deny
reprepro__default_instances[0].incoming[0].Cleanup[1] = on_error
reprepro__default_instances[0].distributions[0].name = forky
reprepro__default_instances[0].distributions[0].Description = Packages for Debian GNU/Linux 14 (Forky)
reprepro__default_instances[0].distributions[0].Origin = {{ reprepro__origin }}
reprepro__default_instances[0].distributions[0].Codename = forky
reprepro__default_instances[0].distributions[0].Suite = testing
reprepro__default_instances[0].distributions[0].Architectures[0] = source
reprepro__default_instances[0].distributions[0].Architectures[1] = amd64
reprepro__default_instances[0].distributions[0].Architectures[2] = arm64
reprepro__default_instances[0].distributions[0].Architectures[3] = armhf
reprepro__default_instances[0].distributions[0].Architectures[4] = ppc64el
reprepro__default_instances[0].distributions[0].Architectures[5] = riscv64
reprepro__default_instances[0].distributions[0].Architectures[6] = s390x
reprepro__default_instances[0].distributions[0].Components[0] = main
reprepro__default_instances[0].distributions[0].Components[1] = contrib
reprepro__default_instances[0].distributions[0].Components[2] = non-free
reprepro__default_instances[0].distributions[0].Components[3] = non-free-firmware
reprepro__default_instances[0].distributions[0].Uploaders = uploaders/anybody
reprepro__default_instances[0].distributions[0].SignWith = default
reprepro__default_instances[0].distributions[0].DebIndices[0] = Packages
reprepro__default_instances[0].distributions[0].DebIndices[1] = Release
reprepro__default_instances[0].distributions[0].DebIndices[2] = .
reprepro__default_instances[0].distributions[0].DebIndices[3] = .gz
reprepro__default_instances[0].distributions[0].DebIndices[4] = .xz
reprepro__default_instances[0].distributions[0].DscIndices[0] = Sources
reprepro__default_instances[0].distributions[0].DscIndices[1] = Release
reprepro__default_instances[0].distributions[0].DscIndices[2] = .gz
reprepro__default_instances[0].distributions[0].DscIndices[3] = .xz
reprepro__default_instances[0].distributions[0].Log = packages.forky.log
--type=dsc email-changes.sh

reprepro__default_instances[0].distributions[0].state = present
reprepro__default_instances[0].distributions[1].name = trixie
reprepro__default_instances[0].distributions[1].Description = Packages for Debian GNU/Linux 13 (Trixie)
reprepro__default_instances[0].distributions[1].Origin = {{ reprepro__origin }}
reprepro__default_instances[0].distributions[1].Codename = trixie
reprepro__default_instances[0].distributions[1].Suite = stable
reprepro__default_instances[0].distributions[1].Architectures[0] = source
reprepro__default_instances[0].distributions[1].Architectures[1] = amd64
reprepro__default_instances[0].distributions[1].Architectures[2] = arm64
reprepro__default_instances[0].distributions[1].Architectures[3] = armel
reprepro__default_instances[0].distributions[1].Architectures[4] = armhf
reprepro__default_instances[0].distributions[1].Architectures[5] = ppc64el
reprepro__default_instances[0].distributions[1].Architectures[6] = riscv64
reprepro__default_instances[0].distributions[1].Architectures[7] = s390x
reprepro__default_instances[0].distributions[1].Components[0] = main
reprepro__default_instances[0].distributions[1].Components[1] = contrib
reprepro__default_instances[0].distributions[1].Components[2] = non-free
reprepro__default_instances[0].distributions[1].Components[3] = non-free-firmware
reprepro__default_instances[0].distributions[1].Uploaders = uploaders/anybody
reprepro__default_instances[0].distributions[1].SignWith = default
reprepro__default_instances[0].distributions[1].DebIndices[0] = Packages
reprepro__default_instances[0].distributions[1].DebIndices[1] = Release
reprepro__default_instances[0].distributions[1].DebIndices[2] = .
reprepro__default_instances[0].distributions[1].DebIndices[3] = .gz
reprepro__default_instances[0].distributions[1].DebIndices[4] = .xz
reprepro__default_instances[0].distributions[1].DscIndices[0] = Sources
reprepro__default_instances[0].distributions[1].DscIndices[1] = Release
reprepro__default_instances[0].distributions[1].DscIndices[2] = .gz
reprepro__default_instances[0].distributions[1].DscIndices[3] = .xz
reprepro__default_instances[0].distributions[1].Log = packages.trixie.log
--type=dsc email-changes.sh

reprepro__default_instances[0].distributions[1].state = present
reprepro__default_instances[0].distributions[2].name = bookworm
reprepro__default_instances[0].distributions[2].Description = Packages for Debian GNU/Linux 12 (Bookworm)
reprepro__default_instances[0].distributions[2].Origin = {{ reprepro__origin }}
reprepro__default_instances[0].distributions[2].Codename = bookworm
reprepro__default_instances[0].distributions[2].Suite = oldstable
reprepro__default_instances[0].distributions[2].Architectures[0] = source
reprepro__default_instances[0].distributions[2].Architectures[1] = amd64
reprepro__default_instances[0].distributions[2].Architectures[2] = arm64
reprepro__default_instances[0].distributions[2].Architectures[3] = armel
reprepro__default_instances[0].distributions[2].Architectures[4] = armhf
reprepro__default_instances[0].distributions[2].Architectures[5] = i386
reprepro__default_instances[0].distributions[2].Architectures[6] = mips64el
reprepro__default_instances[0].distributions[2].Architectures[7] = mipsel
reprepro__default_instances[0].distributions[2].Architectures[8] = ppc64el
reprepro__default_instances[0].distributions[2].Architectures[9] = riscv64
reprepro__default_instances[0].distributions[2].Architectures[10] = s390x
reprepro__default_instances[0].distributions[2].Components[0] = main
reprepro__default_instances[0].distributions[2].Components[1] = contrib
reprepro__default_instances[0].distributions[2].Components[2] = non-free
reprepro__default_instances[0].distributions[2].Components[3] = non-free-firmware
reprepro__default_instances[0].distributions[2].Uploaders = uploaders/anybody
reprepro__default_instances[0].distributions[2].SignWith = default
reprepro__default_instances[0].distributions[2].DebIndices[0] = Packages
reprepro__default_instances[0].distributions[2].DebIndices[1] = Release
reprepro__default_instances[0].distributions[2].DebIndices[2] = .
reprepro__default_instances[0].distributions[2].DebIndices[3] = .gz
reprepro__default_instances[0].distributions[2].DebIndices[4] = .xz
reprepro__default_instances[0].distributions[2].DscIndices[0] = Sources
reprepro__default_instances[0].distributions[2].DscIndices[1] = Release
reprepro__default_instances[0].distributions[2].DscIndices[2] = .gz
reprepro__default_instances[0].distributions[2].DscIndices[3] = .xz
reprepro__default_instances[0].distributions[2].Log = packages.bookworm.log
--type=dsc email-changes.sh

reprepro__default_instances[0].distributions[2].state = present
reprepro__default_instances[0].distributions[3].name = bullseye
reprepro__default_instances[0].distributions[3].Description = Packages for Debian GNU/Linux 11 (Bullseye)
reprepro__default_instances[0].distributions[3].Origin = {{ reprepro__origin }}
reprepro__default_instances[0].distributions[3].Codename = bullseye
reprepro__default_instances[0].distributions[3].Suite = oldoldstable
reprepro__default_instances[0].distributions[3].Architectures[0] = source
reprepro__default_instances[0].distributions[3].Architectures[1] = amd64
reprepro__default_instances[0].distributions[3].Architectures[2] = arm64
reprepro__default_instances[0].distributions[3].Architectures[3] = armel
reprepro__default_instances[0].distributions[3].Architectures[4] = armhf
reprepro__default_instances[0].distributions[3].Architectures[5] = i386
reprepro__default_instances[0].distributions[3].Architectures[6] = mips64el
reprepro__default_instances[0].distributions[3].Architectures[7] = mipsel
reprepro__default_instances[0].distributions[3].Architectures[8] = ppc64el
reprepro__default_instances[0].distributions[3].Architectures[9] = s390x
reprepro__default_instances[0].distributions[3].Components[0] = main
reprepro__default_instances[0].distributions[3].Components[1] = contrib
reprepro__default_instances[0].distributions[3].Components[2] = non-free
reprepro__default_instances[0].distributions[3].Uploaders = uploaders/anybody
reprepro__default_instances[0].distributions[3].SignWith = default
reprepro__default_instances[0].distributions[3].DebIndices[0] = Packages
reprepro__default_instances[0].distributions[3].DebIndices[1] = Release
reprepro__default_instances[0].distributions[3].DebIndices[2] = .
reprepro__default_instances[0].distributions[3].DebIndices[3] = .gz
reprepro__default_instances[0].distributions[3].DebIndices[4] = .xz
reprepro__default_instances[0].distributions[3].DscIndices[0] = Sources
reprepro__default_instances[0].distributions[3].DscIndices[1] = Release
reprepro__default_instances[0].distributions[3].DscIndices[2] = .gz
reprepro__default_instances[0].distributions[3].DscIndices[3] = .xz
reprepro__default_instances[0].distributions[3].Log = packages.bullseye.log
--type=dsc email-changes.sh

reprepro__default_instances[0].distributions[3].state = present
reprepro__default_instances[0].uploaders[0].name = anybody
reprepro__default_instances[0].uploaders[0].raw = allow * by any key

reprepro__default_instances[0].uploaders[0].state = present
reprepro__combined_instances = {{ reprepro__default_instances
                                     + reprepro__instances
                                     + reprepro__group_instances
                                     + reprepro__host_instances }}
reprepro__keyring__dependent_gpg_user = {{ reprepro__user }}
reprepro__keyring__dependent_gpg_keys[0].user = {{ reprepro__user }}
reprepro__keyring__dependent_gpg_keys[0].group = {{ reprepro__group }}
reprepro__keyring__dependent_gpg_keys[0].home = {{ reprepro__home }}
reprepro__keyring__dependent_gpg_keys[1] = {{ q("flattened", reprepro__gpg_uploaders_keys) }}
reprepro__nginx__dependent_servers = {{ reprepro__env_nginx_servers }}
