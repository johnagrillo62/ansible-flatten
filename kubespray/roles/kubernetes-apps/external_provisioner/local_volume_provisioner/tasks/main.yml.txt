~d0.name = Local Volume Provisioner | Ensure base dir is created on all hosts
~d1.include_tasks = basedirs.yml
~d1.loop_control = 
~d2.loop_var = delegate_host_base_dir
~d1.loop = "{{ groups['k8s_cluster'] | product(local_volume_provisioner_storage_classes.keys()) | list }}"
~d0.name = Local Volume Provisioner | Create addon dir
~d1.file = 
~d2.path = "{{ kube_config_dir }}/addons/local_volume_provisioner"
~d2.state = directory
~d2.owner = root
~d2.group = root
~d2.mode = "0755"
~d0.name = Local Volume Provisioner | Templates list
~d1.set_fact = 
~d2.local_volume_provisioner_templates = 
~d3.{ name = local-volume-provisioner-ns, file: local-volume-provisioner-ns.yml, type: ns }
~d3.{ name = local-volume-provisioner-sa, file: local-volume-provisioner-sa.yml, type: sa }
~d3.{ name = local-volume-provisioner-clusterrole, file: local-volume-provisioner-clusterrole.yml, type: clusterrole }
~d3.{ name = local-volume-provisioner-clusterrolebinding, file: local-volume-provisioner-clusterrolebinding.yml, type: clusterrolebinding }
~d3.{ name = local-volume-provisioner-cm, file: local-volume-provisioner-cm.yml, type: cm }
~d3.{ name = local-volume-provisioner-ds, file: local-volume-provisioner-ds.yml, type: ds }
~d3.{ name = local-volume-provisioner-sc, file: local-volume-provisioner-sc.yml, type: sc }
~d0.name = Local Volume Provisioner | Create manifests
~d1.template = 
~d2.src = "{{ item.file }}.j2"
~d2.dest = "{{ kube_config_dir }}/addons/local_volume_provisioner/{{ item.file }}"
~d2.mode = "0644"
~d1.with_items = "{{ local_volume_provisioner_templates }}"
~d1.register = local_volume_provisioner_manifests
~d1.when = inventory_hostname == groups['kube_control_plane'][0]
~d0.name = Local Volume Provisioner | Apply manifests
~d1.kube = 
~d2.name = "{{ item.item.name }}"
~d2.namespace = "{{ local_volume_provisioner_namespace }}"
~d2.kubectl = "{{ bin_dir }}/kubectl"
~d2.resource = "{{ item.item.type }}"
~d2.filename = "{{ kube_config_dir }}/addons/local_volume_provisioner/{{ item.item.file }}"
~d2.state = "latest"
~d1.with_items = "{{ local_volume_provisioner_manifests.results }}"
~d1.when = inventory_hostname == groups['kube_control_plane'][0]
~d1.loop_control = 
~d2.label = "{{ item.item.file }}"
