~d0.name = Set vault_addr
~d1.include_tasks = set_vault_addr.yml
~d0.name = Load vault keys
~d1.include_vars = 
~d2.file = "{{ vault_file }}"
~d0.name = Get AWX admin password
~d1.include_vars = 
~d2.file = "{{ admin_password_file }}"
~d0.name = Create a HashiCorp Vault Credential
~d1.awx.awx.credential = 
~d2.credential_type = HashiCorp Vault Secret Lookup
~d2.name = Vault Lookup Cred
~d2.organization = Default
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.inputs = 
~d3.api_version = "v1"
~d3.cacert = "{{ lookup('ansible.builtin.file', '{{ vault_server_cert }}', errors='ignore') }}"
~d3.default_auth_path = "cert"
~d3.kubernetes_role = ""
~d3.namespace = ""
~d3.client_cert_public = "{{ lookup('ansible.builtin.file', '{{ vault_client_cert }}', errors='ignore') }}"
~d3.client_cert_private = "{{ lookup('ansible.builtin.file', '{{ vault_client_key }}', errors='ignore') }}"
~d3.token = "{{ Initial_Root_Token }}"
~d3.url = "{{ vault_addr_from_container }}"
~d1.register = vault_cred
~d0.name = Create a custom credential type
~d1.awx.awx.credential_type = 
~d2.name = Vault Custom Cred Type
~d2.kind = cloud
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.injectors = 
~d3.extra_vars = 
~d4.the_secret_from_vault = "{{ '{{' }} password {{ '}}' }}"
~d2.inputs = 
~d3.fields = 
~d4.type = "string"
~d5.id = "password"
~d5.label = "Password"
~d5.secret = true
~d1.register = custom_vault_cred_type
~d0.name = Create a credential of the custom type for token auth
~d1.awx.awx.credential = 
~d2.credential_type = "{{ custom_vault_cred_type.id }}"
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.name = Credential From HashiCorp Vault via Token Auth
~d2.inputs = {}
~d2.organization = Default
~d1.register = custom_credential_via_token
~d0.name = Use the Token Vault Credential For the new credential
~d1.awx.awx.credential_input_source = 
~d2.input_field_name = password
~d2.target_credential = "{{ custom_credential_via_token.id }}"
~d2.source_credential = "{{ vault_cred.id }}"
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.metadata = 
~d3.auth_path = ""
~d3.secret_backend = "my_engine"
~d3.secret_key = "my_key"
~d3.secret_path = "/my_root/my_folder"
~d3.secret_version = ""
~d0.name = Create a HashiCorp Vault Credential for UserPass
~d1.awx.awx.credential = 
~d2.credential_type = HashiCorp Vault Secret Lookup
~d2.name = Vault UserPass Lookup Cred
~d2.organization = Default
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.inputs = 
~d3.api_version = "v1"
~d3.default_auth_path = "userpass"
~d3.kubernetes_role = ""
~d3.namespace = ""
~d3.url = "{{ vault_addr_from_container }}"
~d3.username = "{{ vault_userpass_username }}"
~d3.password = "{{ vault_userpass_password }}"
~d1.register = vault_userpass_cred
~d0.name = Create a credential from the Vault UserPass Custom Cred Type
~d1.awx.awx.credential = 
~d2.credential_type = "{{ custom_vault_cred_type.id }}"
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.name = Credential From HashiCorp Vault via UserPass Auth
~d2.inputs = {}
~d2.organization = Default
~d1.register = custom_credential_via_userpass
~d0.name = Use the Vault UserPass Credential  the new credential
~d1.awx.awx.credential_input_source = 
~d2.input_field_name = password
~d2.target_credential = "{{ custom_credential_via_userpass.id }}"
~d2.source_credential = "{{ vault_userpass_cred.id }}"
~d2.controller_host = "{{ awx_host }}"
~d2.controller_username = admin
~d2.controller_password = "{{ admin_password }}"
~d2.validate_certs = false
~d2.metadata = 
~d3.auth_path = ""
~d3.secret_backend = "userpass_engine"
~d3.secret_key = "my_key"
~d3.secret_path = "userpass_root/userpass_secret"
~d3.secret_version = ""
