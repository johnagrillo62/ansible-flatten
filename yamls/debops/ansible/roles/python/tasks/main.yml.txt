[0].name = Import DebOps global handlers
[0]["ansible.builtin.import_role"].name = global_handlers
[1].name = Make sure that Ansible local fact directory exists
[1]["ansible.builtin.file"].path = /etc/ansible/facts.d
[1]["ansible.builtin.file"].state = directory
[1]["ansible.builtin.file"].mode = 0755
[2].name = Save Python local facts
[2]["ansible.builtin.template"].src = etc/ansible/facts.d/python.fact.j2
[2]["ansible.builtin.template"].dest = /etc/ansible/facts.d/python.fact
[2]["ansible.builtin.template"].mode = 0755
[2].notify[0] = Refresh host facts
[2].tags[0] = meta::facts
[3].name = Re-read local facts if they have been modified
[3]["ansible.builtin.meta"] = flush_handlers
[4].name = Install requested packages
[4]["ansible.builtin.package"].name = {{ q("flattened", python__combined_packages) }}
[4]["ansible.builtin.package"].state = present
[4].register = python__register_packages
[4].until = python__register_packages is succeeded
[4].when = python__enabled | bool
[5].name = Generate pip configuration
[5]["ansible.builtin.template"].src = {{ lookup("debops.debops.template_src", "etc/pip.conf.j2") }}
[5]["ansible.builtin.template"].dest = /etc/pip.conf
[5]["ansible.builtin.template"].mode = 0644
[6].name = Update the role status in local facts
[6]["ansible.builtin.template"].src = etc/ansible/facts.d/python.fact.j2
[6]["ansible.builtin.template"].dest = /etc/ansible/facts.d/python.fact
[6]["ansible.builtin.template"].mode = 0755
[6].notify[0] = Refresh host facts
[6].when = (python__enabled | bool and ansible_local | d() and ansible_local.python | d() and not ansible_local.python.configured | bool)
[7].name = Re-read local facts if they have been modified
[7]["ansible.builtin.meta"] = flush_handlers
